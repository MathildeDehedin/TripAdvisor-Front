(this.$WP=this.$WP||[]).push(["YENINS",(e,t)=>{"use strict";var l,i,r,s,o,_,a,n,I,S,T,c,d,u,f,O,p=e=>{var{type:t,clusterId:l}=e;return"LOCATION_LIST"===t||"LOCATION_FILTERS"===t||"VIDEOS"===t||"TRIPS"===t||"CRUISE_SEARCH_ITEM_LIST"===t||"FLIGHTS_DESTINATION_ITEM_LIST"===t||"RENTAL_CARS"===t||"MIXED_CURATED"===t||"DMO_SPONSORED"===t||"ATTRACTION_PRODUCT_LIST"===t?l?"_1-DGz-m6 _2bqh7QUE":"_1-DGz-m6":"PICK_UP_WHERE_YOU_LEFT_OFF"===t?"_22VPM63n":""},m=e=>{var[t,m]=l(!1),[R,E]=l(!1),[C,h]=i(S),[A,L]=l(!1),{shelf:y,locationOffers:D}=e,N=y&&y.id,b=N?Number(N.split("_")[1]):-1;r(()=>{b<=C&&(e=>e&&e.map(e=>e&&e.detail&&e.detail.hotelOffers&&e.detail.hotelOffers.comparisonRate&&e.detail.hotelOffers.comparisonRate>0).some(e=>0!==e))(D)?(h(b),L(!0)):L(!1)},[b,C,h,L,D]);var v,P,j,{member:U,sponsorship:F}=e,{items:g}=y,M=(g||[]).filter(e=>!(!e||!e.object)).slice(0,e.maxShelfItems),H=D?D.reduce((e,t)=>(e[t.detail.locationId]=t,e),{}):{};if(M&&D&&(M=M.map(e=>{if(e&&e.object&&e.object.locationId){var t=H[e.object.locationId];if(t){var{object:l}=e,i=function(e,t){if(null==e)return{};var l,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)l=s[i],t.indexOf(l)>=0||(r[l]=e[l]);return r}(e,["object"]);return Object.assign({},i,{object:Object.assign({detail:t.detail},l)})}}return e})).sort((e,t)=>{var l,i,r,s,o,_,a=0===(null==e||null==(l=e.object)||null==(i=l.detail)||null==(r=i.hotelOffers)?void 0:r.comparisonRate),n=0===(null==t||null==(s=t.object)||null==(o=s.detail)||null==(_=o.hotelOffers)?void 0:_.comparisonRate);return a&&n?0:a?1:n?-1:0}),!("LOCATION_LIST"!==(P=y.type)&&"LOCATION_FILTERS"!==P&&"ATTRACTION_PRODUCT_LIST"!==P&&"RENTAL_CARS"!==P||(v=y.title,v&&0!==v.length)))return _.error(`Shelf missing title, shelfId: ${y.id}, shelfType: ${y.type||""}`),null;j=y.clusterId?"_8jSfrhD1":"LOCATION_LIST"===y.type||"LOCATION_FILTERS"===y.type||"CRUISE_SEARCH_ITEM_LIST"===y.type||"FLIGHTS_DESTINATION_ITEM_LIST"===y.type||"RENTAL_CARS"===y.type||"ATTRACTION_PRODUCT_LIST"===y.type?"_1rttbLNw":"VIDEOS"===y.type||"TRIPS"===y.type?"_1oPhPRyd":"tK4ildcd";var x={right:{top:-24},left:{top:-24}},k={left:0,top:0,bottom:0,right:100};"SRP_QUERY_PARSER_SHELF"===y.type&&(x={right:{left:24},left:{left:-24}},k={left:100,top:0,bottom:0,right:100});var K="_1wXJD78B ui_card";return y.clusterId&&(K="_2CfQZ8Ge"),y&&y.uxHints&&y.uxHints.includes("SEPARATED_CLUSTER")&&(K="_3mhNyVsx"),"PICK_UP_WHERE_YOU_LEFT_OFF"===y.type&&(K=o("ui_card","_1WPln7Z9","_1wXJD78B")),s(a,null,l=>{return s("div",{className:K},s(u,{section:y}),F&&"DMO_SPONSORED"!==y.type&&s(d,{sponsorship:F}),s(f,{title:y.title,subtitle:y.subtitle,url:y.url,geoShelfHeader:p(y),geoShelfSeeAll:(i=y.type,"LOCATION_LIST"===i||"LOCATION_FILTERS"===i||"VIDEOS"===i||"TRIPS"===i||"DMO_SPONSORED"===i||"CRUISE_SEARCH_ITEM_LIST"===i||"RENTAL_CARS"===i||"ATTRACTION_PRODUCT_LIST"===i?"_3l52BiYF":""),onClick:e=>l(e,"seeAll"),clusterId:y.clusterId}),s("div",{className:o("ui_container","_3-YWUsAc",j)},s(I.Consumer,null,i=>s(c,{className:o("ui_columns","_2QKlFqf4",{_35G8rJ_F:R,_22q9bDj6:y.clusterId}),top:!1,bottom:!1,onScroll:t?void 0:e=>{m(!0),l(e,"shelfScroll")},threshold:100,minDistance:50,snapToEdge:k,shift:x,isActive:!i||i.isActive},t=>M.map((l,i)=>((t,l,i,r)=>{var _,a,{object:I}=t;if(!I)return null;if("Video"===I.__typename||"LinkPost"===I.__typename)_=I.id,a="is-4 is-6-desktop is-8-mobile";else if("SearchResult"===I.__typename)_=I.id,a="is-3 is-3-desktop is-4-tablet";else if("Trip"===I.__typename)_=I.id,a="is-6-desktop";else if("CategorySearch"===I.__typename)_=I.id,a="is-6";else{var S;_=I.locationId||(null==(S=I.route)?void 0:S.url)||I.url||I.name,a="is-4"}var T=t.id?t.id:_,c=`${_}:${r}`;return"MIXED_CURATED"!==y.type&&"DMO_SPONSORED"!==y.type||!t.object||"Trip"===t.object.__typename||"LinkPost"===t.object.__typename||"Video"===t.object.__typename?s("div",{key:c,ref:l(c),className:o("ui_column",a,"_12EJSn38")},s(n.Provider,{value:{itemId:T}},s(O,{item:t,member:i,updateModalState:E,shelfKey:e.shelfKey,matchOtherItems:"MIXED_CURATED"===y.type||"DMO_SPONSORED"===y.type}))):null})(l,t,U,i)))),s(T,{showDisclaimer:A})));var i})};return[()=>{m.defaultProps={minShelfItems:3,maxShelfItems:8,member:void 0,shelfKey:"",reasonFor:void 0},e("Shelf",m)},[e=>(l=e.useState,i=e.useContext,r=e.useEffect,s=e.createElement),e=>o=e.default,e=>_=e.default,e=>(a=e.InteractionLogger,n=e.ItemIdContext),e=>I=e.TabActiveContext,e=>(S=e.RateDisclaimerContext,T=e.RateDisclaimer),e=>c=e.ScrollAffordance,e=>d=e.SponsoredCrust,e=>u=e.ReasonForCrust,e=>(f=e.ShelfHeader,O=e.ShelfItem)]]},["cDcdfi","jSLlaY","4LU1Ax","pZzSdK","jCCr_L","wvyC6D","REpc0H","5dJy8s","aGR254","Xwp5O7"]]);
