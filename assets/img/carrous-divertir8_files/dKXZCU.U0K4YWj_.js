(this.$WP=this.$WP||[]).push(["dKXZCU",(e,t)=>{"use strict";var i,r,a,l,n,s,o,u,v,m,d,c,h,g,p,_,w=e=>e.text.length>200?r("span",null,r(l,{id:"common_ellipsis",args:{0:""+e.text.substr(0,Math.min(e.text.length,200))}})):r("span",{dangerouslySetInnerHTML:{__html:e.text}}),f=e=>{var t,a,l,n=s({module:"Highlight_Review",action:"Recent_snippet_more"}),o=e.url,u="MOBILE"===i(d).viewportCategory?"medium":"default",v=null==(t=e.avatar)||null==(a=t.photoSizes)||null==(l=a.find(e=>e.height>=50&&e.height<=150))?void 0:l.url;return r("a",{href:o,className:"_1k3nXbN_",onClick:n},r("div",{className:"_2lFelnIW"},r(g,v?{size:u,photoUrl:v}:{size:u})),r("div",{className:"_2KDBi_WO"},r("div",{className:"_2wS2vafm"},r(w,{text:e.snippetText}))))},R=e=>{var{locale:{language:t}}=i(c),[r]=i(h),a=r.params.detailId||0,l=r.params.geoId||0,{locationData:n,fetching:s,error:o}=p(a,t),u=!s&&!o&&n&&l&&a?_(l,a,t,n):null;return e.children({error:o,fetching:s,model:u})},S=()=>{var e=o(),t=a(t=>{e({module:"Highlight_Review",action:"Recent_snippet_title"}),(e=>{var t=m("REVIEWS");"number"==typeof t&&t>=0&&(window.scrollTo({top:t,behavior:"smooth"}),e.preventDefault())})(t)},[e]),i=n();return r(R,null,({model:e,error:a,fetching:n})=>{var s,o,m;if(a)return console.error("A service exception occurred in AttractionReviewSnippetsQuery:",a),null;if(n||!e)return r(v,{height:"100%",width:"100%"});var d=e.reviewSummary&&e.reviewSummary.count&&e.reviewSummary.rating,c=(null==(s=e.reviewSummary)?void 0:s.rating)||0,h=(null==(o=e.reviewSummary)?void 0:o.count)||0,g=h>0?r(l,{id:"common_Read_all_n_reviews",args:{nNumReviews:i.formatNumber("integer",h)}}):null,p=g&&r("a",{href:"#REVIEWS",className:"_1eV5WR4E",onClick:t},g),_=e.reviewHighlightsModel&&e.reviewHighlightsModel.reviewSnippets&&e.reviewHighlightsModel.reviewSnippets.length>=2,w=(null==(m=e.reviewHighlightsModel)?void 0:m.reviewSnippets)||[];return e.hasDescription&&d&&_?r("div",{className:"_2VtkiY9S"},r("div",{className:"_3GsbTdjK"},r("div",{className:"vItluPuy"},r("h2",null,r(l,{id:"mw_what_travelers_are_saying_ffffe27f"})),d&&r("a",{href:"#REVIEWS",className:"_1d_R5B7y",onClick:t},r("span",{className:"_2Hy7Xxdm"},c," ",r(u,{rating:c,verticalAlign:"bottom"})))),p),r("div",{className:"_1mz9RCwB"},w.map(e=>r(f,{key:e.reviewId,snippetText:e.snippetText,avatar:e.avatar,reviewId:e.reviewId,url:e.url}))),r("div",{className:"_1OSC-jsf"},p)):null})};return[()=>{e("default",S)},[e=>(i=e.useContext,r=e.createElement,a=e.useCallback),e=>(l=e.default,n=e.useIntlFormatter),e=>(s=e.useGARecordCallback,o=e.useGARecorder),e=>u=e.BubbleRating,e=>v=e.default,e=>m=e.getTabLocation,e=>(d=e.Device,c=e.Environment,h=e.Route),e=>g=e.Avatar,e=>(p=e.useReviewSnippets,_=e.getDataModel)]]},["cDcdfi","0DsHEV","fsml46","XTiWvD","Xi-2HZ","wurSPw","2R4xv2","fAPg3f","8MH3N2"]]);
