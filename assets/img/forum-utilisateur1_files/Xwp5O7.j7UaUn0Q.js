(this.$WP=this.$WP||[]).push(["Xwp5O7",(e,a)=>{"use strict";var i,l,t,s,r,o,n,c,u,d,m,_,p,h,v,f,N,k,C,g,b,S,y,w,I,O,P,T,R,D,x,A,E,L,M,H,U,V,j,z,B,F,K,W,G,q,Q,Y,J,X,$,Z=({trip:e,className:a,children:i})=>l(u,null,t=>{var s;return l(c,{tripModalDescriptor:{isUser:n(e),href:null==(s=e.route)?void 0:s.url,navigator:{id:e.id,title:e.title}},onClick:a=>{e.registerClick&&e.registerClick(),t(a,"feedClick"),a.stopPropagation()},className:a},i)}),ee=e=>{var a,{title:i,subtitle:t,url:s,onClick:r,geoShelfHeader:o,geoShelfSeeAll:n,clusterId:c}=e;return a=c?"ui_cluster_shelf_header_h2":""!==o?"_2PR87cS6":"",s?l("div",{className:""===o?"C9BTevGP":o},l("div",null,l(h,{href:s,className:"ui_link ui_header h2 "+a,onClick:r},i),t?l(h,{href:s,className:"ui_link nVcGWiA9",onClick:r},t):""),l(h,{href:s,className:"ui_link "+(""===n?"b1Tm0dY7":n),onClick:r},m("social_see_more")," ")):l("div",{className:""===o?"C9BTevGP":o},l("span",{className:"ui_header h2 "+a},i))},ae=({title:e,result:a,shelfKey:l})=>{var t,{filterCount:s,fromDate:r,toDate:o,route:n}=a,c=e=>{var a=e.split("-");return new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10))};return o&&r&&(t=m("date_range_medium_month_to_day_of_month",{sDateStart:_.formatDate("date_medium_month",c(r)),nDayEnd:_.formatDate("date_medium_month",c(o))})),i.createElement(C,{useSpan:!0,module:"Search_Results",action:"Search_Results_Selection",context:l+" | card"},i.createElement(u,null,a=>i.createElement(h,{href:null==n?void 0:n.url,className:N("ui_link","_1gF-h64o"),onClick:e=>{a(e,"feedClick")}},i.createElement(k,{name:"search",className:"_8HXR0vRs"}),i.createElement("span",{className:"_2VudKM_n"},i.createElement("span",{className:"_2iJgW7iK"},e),null!=t&&i.createElement("span",{className:"_1Pg3CuGl"},t),!!s&&i.createElement(i.Fragment,null,null!=t&&i.createElement("span",{className:"_1Pg3CuGl"}," · "),i.createElement("span",{className:"_1Pg3CuGl"},m("social_category_search_num_filters",{0:s})))))))},ie=({userProfile:e,isSponsored:a})=>{var i=a=>{var i;return l("div",{className:"_1nktpnNB"},l(w,{photo:null==e?void 0:e.avatar,display:"inline",target:"_self",href:null==e||null==(i=e.route)?void 0:i.url,withBorder:!0,onClick:i=>a.logInteraction(i,"userClick",{userId:null==e?void 0:e.userId}),size:"default"}))},t=a=>{var i;return l("div",{className:"_294I6ATp"},m("ugc_by_username_v2")," ",l(h,{className:N("ui_link","_1v4ozo3O",{E6tbiCK1:null==e?void 0:e.isVerified}),href:null==e||null==(i=e.route)?void 0:i.url,onClick:i=>a.logInteraction(i,"userClick",{userId:null==e?void 0:e.userId})},null==e?void 0:e.displayName))};return l(u,null,a?e=>l("div",{className:"_2Cn8nksV"},l(i,{logInteraction:e}),l("div",{className:"_1ac-dwQp"},l(t,{logInteraction:e}),l("div",{className:"_2ezBwvBp"},p(m("discovery_sponsored_label"))))):a=>l("div",{className:"_2Cn8nksV"},l(i,{logInteraction:a}),l("div",{className:"_1ac-dwQp"},l(t,{logInteraction:a}),l(y,{profile:e,isSingleLine:!0,hideHometown:!0,noBold:!0}))))},le=e=>({page:"Trips",tripId:null==e?void 0:e.id,tripTitle:"PUBLIC"===(null==e?void 0:e.status)?null==e?void 0:e.title:void 0}),te=({trip:e,isSponsored:a})=>l("div",{className:"ui_card _3QlPPrVA"},l(u,null,i=>{var s,r;return l(t,null,l("div",null,l("div",{className:"_3jJtfynZ"},l(Z,{trip:e},(e=>{var a,i=null==e||null==(a=e.photo)?void 0:a.photoSizes;return i?l(g,{sources:i,width:"100%",height:"150px"}):l("div",{className:"iHbTI9qg",style:{width:"100%",height:150}},l(k,{name:"suitcase"}))})(e))),l("div",{className:"_2PNgF9Ou"},l(Z,{trip:e},l("div",{className:"_10SaYVh8"},l(b,{text:null==e?void 0:e.title,max:50}))),(null==e||null==(s=e.orderedLocations)?void 0:s.length)>2&&l(h,{to:le(e),onClick:a=>{e.registerClick&&e.registerClick(),i(a,"feedClick")},className:N("ui_link","_14mnzzvX")},l("span",{className:"_2WH8-jb4"},p(m("trips_home_featuring_count_v3",{0:"i2rOmbSB",1:(null==e||null==(r=e.orderedLocations)?void 0:r.length)||""})))))),l(ie,{userProfile:e.owner,isSponsored:a}))})),se=({location:e,geoShelfPhotoClassName:a})=>l("div",{className:"_1D6_JbRW"},l("div",{className:""!==a?a:"_2F_KZjAx"},l(g,{dynamicSource:e.thumbnail.photoSizeDynamic,sources:e.thumbnail.photoSizes,width:"100%",height:"100%",borderRadius:"2px"}))),re=e=>{var{location:a}=e,i=a&&a.thumbnail&&a.thumbnail,t=a&&a.route&&a.route.url&&a.route.url,s=O("attraction_prices_in_shelves"),r=a&&a.displayPrice&&null!==a.displayPrice&&a.displayPrice;return l(u,null,e=>l("div",{className:"_1VddYIxv"},l("div",{className:N("_2hwhAn-T",{"qA-j3sik":O("trips_saves_heart")})},l(A,{object:a},(i,t)=>l(E,{active:t,bookmarkStyle:"stacked",onClick:l=>{e(l,"save",{locationId:a.id}),i()}}))),l(P,{encodedUrl:t,className:"ui_poi_thumbnail",useSpan:!1,onClick:a=>e(a,"feedClick")},i?l(se,{location:a,geoShelfPhotoClassName:"_2iOkbLY9"}):l("span",{className:"_2iOkbLY9"}," ",l(D,{location:a}))),l(P,{encodedUrl:t,useSpan:!1,className:"item poi_name ui_link",onClick:a=>e(a,"feedClick")},l("span",{className:"_2Fk9zimt"},a.name)),a.reviewSummary&&0!==a.reviewSummary.count&&l(P,{encodedUrl:t,useSpan:!1,onClick:a=>e(a,"feedClick")},l("span",{className:"ui_shelf_poi_bubble_rating"},l(I,{numReviews:a.reviewSummary.count,rating:a.reviewSummary.rating,fontSize:12}))),s&&r?l(T,{offer:r,locationUrl:t}):a.parent&&a.parent.name&&l("div",{className:"_1mzD2GbC _2CFrdcTo"},a.parent.name)))},oe=e=>{var{cruiseSearchInfo:a}=e,i=a.thumbnail,s=a&&a.route&&a.route.url?a.route.url:"#";return l(u,null,e=>l("div",{className:"_2UehSOhL"},l(t,null,l(h,{href:s,className:"ui_poi_thumbnail",onClick:a=>e(a,"feedClick")},i?l("div",{className:"sDsgczHN"},l("div",{className:"_3c_HFZgH"},l(g,{sources:a.thumbnail.photoSizes,width:"100%",height:"100%",borderRadius:"2px"}))):l("span",{className:"_3c_HFZgH"}," ",l("div",{className:"_2bYWJyvg"},l(k,{name:"cruises",className:"_3ur3yWIB"})))),l(h,{href:s,className:"item poi_name ui_link",onClick:a=>e(a,"feedClick")},l("span",{className:"GaS2UoUj"},a.locationName)),l(h,{href:s,onClick:a=>e(a,"feedClick")}))))},ne=e=>{var{filterItem:a}=e,{url:i,thumbnail:t,title:s,count:r}=a;return l(u,null,e=>l("div",null,l(h,{href:i,onClick:a=>e(a,"feedClick"),className:"ui_poi_thumbnail"},l("div",{className:"_2mv9vkg1"},l(g,{sources:t.photoSizes,width:"100%",height:"100%"}))),l(h,{href:i,className:"item poi_name ui_link _1HOpFl0W",onClick:a=>e(a,"feedClick")},l("span",{className:"_13SP2_yP"},m("hotels.type_and_count",{0:s,1:_.formatNumber("integer",r)})))))},ce=e=>l("div",{className:"_1KmVRaLQ"},l("div",{className:"_1vGs1_Ij"},l(g,{sources:e,width:"100%",height:"100%",borderRadius:"2px"}))),ue=(e,a)=>l(t,null,!a.scoped&&l("span",{className:"_2TDO_GqT"},a.location.name),a.rentalCarsShelfPrice&&l("span",{className:a.scoped?"_2TDO_GqT":"_1EB0n5c3"},m("rental_car_rate_card_pricing",{currencyFare:e})),a.scoped&&l("span",{className:"Up3O8H-2"},a.rentalCarType)),de=({post:e,isSponsored:a})=>{if(!e)return null;var i={id:e.preview.id,title:e.preview.title,description:e.preview.description,url:e.preview.canonicalUrl,urlDomain:e.preview.urlDomain,imgSource:e.preview.media&&e.preview.media[0]?e.preview.media[0].photoSizes:void 0};return l("div",{className:"ui_card _111Uqjw-"},l(u,null,s=>l(t,null,l(L,{linkPreviewState:i,isClickable:!0,onClick:e=>s(e,"feedClick"),border:!1,matchingShelfItem:!0}),l(ie,{userProfile:e.userProfile,isSponsored:a}))))},me=e=>{var{location:a,title:i,defaultSnippet:s,comparisonRate:r}=e,o=a.thumbnail,n=(e=>{var a;return e&&e.url&&f.warn("ShelfLocationSection using location.url instead of location.route.url!"),(null==e||null==(a=e.route)?void 0:a.url)||(null==e?void 0:e.url)})(a);return a.isGeo?l(u,null,e=>l("div",{className:"ui_shelf_item_container ui_geo_shelf_item gXNKMDwO "},l(h,{href:n,onClick:a=>e(a,"feedClick"),className:"ui_poi_thumbnail"},o?l(se,{location:a,geoShelfPhotoClassName:"_2xuqeOlo"}):l("span",{className:"_2xuqeOlo"},l(D,{location:a}))),l(h,{href:n,className:"item poi_name ui_link",onClick:a=>e(a,"feedClick")},l("span",{className:"_3DtVtigy"},a.name)))):l(u,null,e=>l("div",{className:"gXNKMDwO"},l("div",{className:N("WMFpmB3O",{_3Eo0yvUW:O("trips_saves_heart")})},l(A,{object:a},(i,t)=>l(E,{active:t,bookmarkStyle:"stacked",onClick:l=>{e(l,"save",{locationId:a.id}),i()}}))),l(h,{href:n,className:"ui_poi_thumbnail",onClick:a=>e(a,"feedClick")},o?l(se,{location:a,geoShelfPhotoClassName:"_2xuqeOlo"}):l("span",{className:"_2xuqeOlo"}," ",l(D,{location:a}))),l(h,{href:n,className:"item poi_name ui_link",onClick:a=>e(a,"feedClick")},l("span",{className:"_3DtVtigy"},a.name)),a.reviewSummary&&0!==a.reviewSummary.count&&"NEIGHBORHOOD_TIER_1"!==a.placeType&&l(h,{href:n,onClick:a=>e(a,"feedClick")},l("span",{className:N("ui_shelf_poi_bubble_rating",{brand_refresh_bubble_ratings:O("cx_brand_refresh_bubble_ratings")})},l(I,{numReviews:a.reviewSummary.count,rating:a.reviewSummary.rating,fontSize:O("cx_brand_refresh_bubble_ratings")?14:12}))),"ACCOMMODATION"===a.placeType&&r?l(R,{offer:r,locationUrl:n}):l(t,null,i&&l("div",{className:"VeXiFpWf"},p(i)),s&&l(h,{className:"_2gHNilbF ui_link",href:s.url,onClick:a=>e(a,"linkedSnippetClick")},"“",p((s.text||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,e=>Y[e]||e)),"”"))))},_e=e=>{var a,i,{result:t,title:s,shelfKey:r}=e,{url:o,locationType:n,searchTrackingData:c,route:u,searchDate:d,toDate:p,fromDate:v,filterCount:f,parent:k}=t,g=e=>{var a=e.split("-");return new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10))};if(d){var b=(new Date).getTimezoneOffset(),S=(new Date).setHours(0,-1*b,0,0),y=new Date(d),w=Math.round((S-y)/864e5);if(0===w)a=m("social_category_search_today");else if(1===w)a=m("social_category_search_yesterday");else if(w<7)a=m("social_category_search_days_ago",{nDays:w});else{var I=Math.round(w/7);a=m("social_category_search_weeks_ago",{0:I})}}p&&v&&(i=m("date_range_medium_month_to_day_of_month",{sDateStart:_.formatDate("date_medium_month",g(v)),nDayEnd:_.formatDate("date_medium_month",g(p))}));var O=(e=>{switch(e){case"HOTEL":return"ACCOMMODATION";case"ATTRACTION":return"ATTRACTION";case"RESTAURANT":return"EATERY";case"ATTRACTION_PRODUCT":return"ACTIVITY";case"AIRPORT":return"AIRLINE";case"GEO":return"CITY";default:return null}})(n);return l(C,{searchRecordData:c},l(M,{module:"Search_Results",action:"Search_Results_Selection",context:r+" | card",value:null==c?void 0:c.ordinal,sectionNumber:null==c?void 0:c.sectionNumber,once:!1,useSpan:!0},l(h,{href:o||u&&u.url},l("div",{className:N("_1xx0DBrX","search-result-section")},l("div",{className:"_3RSsJ3ow"},l("div",null,a?l("div",{className:"_2GF9-KoQ"}," ",a):null,l("div",{className:N("_1n5g2O2H","title")},s),k?l("div",{className:N("_3pW1MwSQ","parent")},k):null,i?l("div",{className:"_2GF9-KoQ"}," ",i," "):null,f?l("div",{className:"_2GF9-KoQ"}," ",m("social_category_search_num_filters",{0:f})," "):null),O&&l(x,{placeType:O,className:"_1c2pqOMl"}))))))},pe=e=>{var a,i,{trip:s,member:r,locations:o,taggedPoisLinkTo:n,onClick:c,page:d}=e,_=O("curated_trips_attractions")||O("curated_trips_restaurants");switch(d){case"Restaurants":case"MobileRestaurants":a="_blank",i=p(m("Featuring_n_eateries_plural",{0:"bold",1:(null==o?void 0:o.length)||""}));break;case"Attractions":case"MobileAttractions":a="_blank",i=p(m("trips_home_featuring_count_v2",{0:(null==o?void 0:o.length)||""}));break;default:a="_self",i=p(m("trips_home_featuring_count_v2",{0:(null==o?void 0:o.length)||""}))}return l(t,null,(null==o?void 0:o.length)>2&&l(t,null,_?l(Z,{trip:s},l("span",{className:N("ui_link","jJVmbCoU")},l("span",{className:"_26BcIB6Q"},i))):l(h,{to:n,onClick:c,className:N("ui_link","jJVmbCoU"),target:a},l("span",{className:"_26BcIB6Q"},i))),l("div",{className:"_31euioRT"},l(u,null,e=>{var i;return l(h,{href:null==r||null==(i=r.route)?void 0:i.url,onClick:a=>e(a,"userClick",{userId:null==r?void 0:r.id}),target:a},l("span",{className:"roENrvxa"},l("span",{className:N("H4r0GnLn",{"_3z556Whq verified":null==r?void 0:r.isVerified})},null==r?void 0:r.displayName)))})))},he=e=>({page:"Trips",tripId:null==e?void 0:e.id,tripTitle:"PUBLIC"===(null==e?void 0:e.status)?null==e?void 0:e.title:void 0}),ve=({trip:e})=>{var a=l(H,{trip:e,avatarSize:"medium"}),i={itemId:null==e?void 0:e.id};return l(d.Provider,{value:i},l("div",{className:"ui_card _2qFJfGhk"},l("div",{className:"_2PN09vho"},l(Z,{trip:e},(e=>{var a,i=null==e||null==(a=e.photo)?void 0:a.photoSizes;return i?l(g,{sources:i,width:"100%",height:"150px"}):l("div",{className:"_2xObUrcL",style:{width:"100%",height:150}},l(k,{name:"suitcase"}))})(e)),l("div",{className:"ukY0-xDs"},a)),l("div",{className:"_1rGYetk2"},l(Z,{trip:e},l("div",{className:"_3y0OxAX-"},null==e?void 0:e.title)),l(u,null,a=>l(J,{trip:e,member:null==e?void 0:e.owner,locations:null==e?void 0:e.orderedLocations,taggedPoisLinkTo:he(e),onClick:e=>{a(e,"feedClick")}})))))},fe=e=>l(v,null,a=>{var{route:{modal:i},navigate:t}=a,s=function(e,a){if(null==e)return{};var i,l,t={},s=Object.keys(e);for(l=0;l<s.length;l++)i=s[l],a.indexOf(i)>=0||(t[i]=e[i]);return t}(a.route,["modal"]);return e.video.object&&l("div",{className:"SDtdQrv6 ui_card"},l(Q,Object.assign({navigate:t,route:s,isOpen:i&&i===`VideoShelf_${e.uniqueKey}_${e.video.object.id}`},e)))}),Ne=e=>{var{item:a,updateModalState:i,shelfKey:s,matchOtherItems:r}=e,{object:o,sponsorship:n}=a,c=n&&void 0!==n.userProfile;if(!o||!o.__typename)return null;var u="shelfKey";s&&(u=s);var m,_=o&&"ACCOMMODATION"===o.placeType&&o.detail&&o.detail.hotelOffers&&o.detail.hotelOffers.comparisonRate?o.detail.hotelOffers.comparisonRate:0;switch(o.__typename){case"LocationInformation":m=l(me,{location:o,title:a.title,defaultSnippet:a.defaultSnippet,comparisonRate:_});break;case"CruiseInfoCruiseSearchInfo":m=l(oe,{cruiseSearchInfo:o});break;case"Trip":m=r?l(te,{trip:o,isSponsored:c}):l(ve,{trip:o});break;case"LinkPost":m=l(de,{post:o,isSponsored:c});break;case"LocationFilterShelf":m=l(ne,{filterItem:o});break;case"Video":m=l(fe,{video:a,updateModalState:i,uniqueKey:u,isSponsored:c});break;case"TopDestShelfInfo":m=l(G,{topDestShelfInfo:o});break;case"RentalCarsLeadOffer":m=l(q,{rentalCarsLeadOffer:o});break;case"CategorySearch":m=a.title?l(ae,{result:o,title:a.title,shelfKey:s||"SearchResultsShelf"}):null;break;case"SearchResult":m=a.title?l(_e,{result:o,title:a.title,shelfKey:s||"SearchResultsShelf"}):null;break;case"AttractionProductInformation":m=l(re,{location:o});break;default:return f.error("Unknown Social component: "+o.__typename),null}return a.id?l(d.Provider,{value:{itemId:a.id}},l(t,null,m)):l(t,null,m)},ke=({title:e,className:a})=>l(t,null,l("span",{className:N("_1n9V1eKI",a)},e)),Ce=({name:e,isVerified:a=!1,url:i,onClick:t})=>{var s=i?m("member_byline_link",{0:"_3ffwf8sC",1:N({PyH35UJ4:a},"_1vRB4bSy"),2:i,3:"_blank",4:S(e)}):m("mentions_profile_label_span",{name:S(e),prefixClassName:"_3ffwf8sC",nameClassName:N({PyH35UJ4:a},"_1vRB4bSy")});return l("span",{className:"Qd69MSzR",dangerouslySetInnerHTML:{__html:s},onClick:t})},ge=({photo:e,length:a,placeholder:i="suitcase-fill"})=>l(t,null,e?l(g,{sources:e,width:a+"px",height:a+"px"}):l("div",{style:{width:a,height:a,fontSize:Math.round(.3*a)},className:"_1BaydpxW"},l(k,{name:i,className:"ezWn88rv"}))),be=e=>{var{trip:a,isMobile:i}=e,t=i?100:160;if(!a)return null;var s=a.owner&&a.owner.id,r=a.owner&&a.owner.displayName?a.owner.displayName:"",o=a.owner&&a.owner.route&&a.owner.route.url?a.owner.route.url:"",n=!(!a.owner||!a.owner.isVerified)&&a.owner.isVerified,c=a.owner&&a.owner.contributionCounts&&a.owner.contributionCounts.sumAllUgc&&a.owner.contributionCounts.sumAllUgc;return l("div",{className:"_2sYsD7kv"},a.photo&&a.photo.photoSizes&&l(Z,{trip:a},l(ge,{photo:a.photo.photoSizes,length:t,placeholder:"suitcase-fill"})),l("div",{className:"_3jFOgeAJ"},a.title?l(Z,{trip:a,className:N("ui_link","_1L8dAW-R")},l(ke,{title:a.title,className:N("_3Y1qQgP7","Yn0jo-np")})):null,s&&l("div",{className:"_1yabo-df"},l(u,null,e=>l(H,{trip:a,onAvatarClick:a=>{e(a,"userClick",{userId:s})}})),l("div",{className:"_1IFLVuqQ"},r&&l(u,null,e=>l(Ce,{name:r,url:o,isVerified:n,onClick:a=>{e(a,"userClick",{userId:s})}})),c&&l(W,{contributionCount:c}))),!i&&a.description?l("div",{className:"Boereqd3"},l(b,{text:a.description,max:300})):null))};return[()=>{ee.defaultProps={onClick:void 0,clusterId:void 0},se.defaultProps={geoShelfPhotoClassName:""},G=class extends s{render(){var{topDestShelfInfo:e}=this.props,a=e.thumbnail,i=e&&e.route&&e.route.url?e.route.url:"#";return l(u,null,s=>l("div",{className:"_3bgXFmaf"},l(t,null,l(h,{href:i,className:"ui_poi_thumbnail",onClick:e=>s(e,"feedClick")},a?l("div",{className:"_3EcWNc3R"},l("div",{className:"_2v5PUtvK"},l(g,{sources:e.thumbnail.photoSizes,width:"100%",height:"100%",borderRadius:"2px"}))):l("span",{className:"_2v5PUtvK"}," ",l("div",{className:"_3BHXCTwM"},l(k,{name:"flights",className:"_1jsu0Li7"})))),l(h,{href:i,className:"item poi_name ui_link",onClick:e=>s(e,"feedClick")},l("span",{className:"_2tTu4sxD"},e.locationName),this.props.topDestShelfInfo.displayPrice&&l("span",{className:"_2tTu4sxD _3ZEFtEKe"},m("from_price_fffff32b",{0:this.props.topDestShelfInfo.displayPrice}))),l(h,{href:i,onClick:e=>s(e,"feedClick")}))))}},q=class extends s{render(){var e,{rentalCarsLeadOffer:a}=this.props,i=null==a||null==(e=a.route)?void 0:e.url,s=_.formatCurrencyInteger(a.rentalCarsShelfPrice),r=[{url:a.carImage,height:150,width:225}];return l(u,null,e=>l("div",{className:"_3VHUx4G3"},l(t,null,((e,a,i)=>e?l(h,{href:e,className:"ui_poi_thumbnail",onClick:e=>i(e,"feedClick")},ce(a)):l("div",{className:"ui_poi_thumbnail"},ce(a)))(i,r,e),((e,a,i,t)=>e?l(h,{href:e,className:"item poi_name ui_link",onClick:e=>t(e,"feedClick")},ue(a,i)):l("div",{className:"item poi_name ui_link"},ue(a,i)))(i,s,a,e),i&&l(h,{href:i,onClick:a=>e(a,"feedClick")}))))}},Y={"":'<span class="_2uu92W1l">',"":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},me.defaultProps={title:void 0,defaultSnippet:void 0},pe.defaultProps={onClick:void 0},J=U(e=>({page:e.route.page}))(pe),X=j.onUsage(()=>a("5W0bHx"),"VideoPlayer"),Q=class extends r{constructor(e){super(e),this.onCloseModal=()=>{this.videoPlayer&&this.videoPlayer.current.pauseVideo(),this.props.navigate(this.props.route,{reset:!0}),this.props.updateModalState(!1)},this.onOpenModal=()=>{this.videoPlayer&&(K.set(B,Date.now()),this.props.navigate(Object.assign({},this.props.route,{modal:`VideoShelf_${this.props.uniqueKey}_${this.props.video.object.id}`,username:this.props.video.object.userProfile.username})),this.videoPlayer.current.playVideo()),this.props.updateModalState(!0),this.props.video.object.registerClick&&this.props.video.object.registerClick()},this.contentNode=void 0,this.videoPlayer=void 0,this.contentNode=o(),this.videoPlayer=o()}render(){var e,{video:a,isOpen:i,route:s}=this.props,{object:r}=a,o=r.sources[0].duration,n=Math.floor(o/6e4),c=Math.floor(o/1e3)-60*n,d=c<10?`${n}:0${c}`:`${n}:${c}`,_=V(s),h=p(m("videos_location_featuring_count_v2",{0:"_24e27RNh",1:(null==(e=r.orderedLocations)?void 0:e.length)||""}));return l(u,null,e=>{var s;return l(t,null,l("div",null,l("div",{key:"vw_"+r.id,className:"_104mGOaT "+(i?"_1SvrhJj5":"_145i7H2W"),ref:this.contentNode},l("div",{className:"_3R4d4wEF "+(i?"ui_columns":"")},i&&l("div",{className:"_9lRBWhd1 ui_column is-4 is-offset-8 is-3-widescreen is-offset-9-widescreen is-12-mobile"},l(z,{branding:"TA_GREEN"})),l("div",{className:i?"_104mGOaT ui_column is-8 is-9-widescreen is-12-mobile":""},l("div",{className:"_1-LCfz1P"},l(X,{key:"player_"+r.id,source:r.sources[0].url,width:"100%",height:i?"100%":"149px",preload:"auto",trackingModule:_,mediaId:r.id,autoplayWhenVisible:!1,ref:this.videoPlayer,poster:r.posterSizes[0].url,muted:!1}))),i&&l(F,{video:a,actor:r.userProfile,deleteObject:this.props.deleteObject,onClose:this.onCloseModal})),l("div",{className:"QCqfh0l_"},d),!i&&l("div",{className:"_3pRB2avW",onClick:a=>{e(a,"feedClick"),this.onOpenModal()}})),r.caption&&!i&&l("div",{className:"SMfWQK3j",onClick:a=>{e(a,"feedClick"),this.onOpenModal()}},l(b,{text:r.caption,max:50})),(null==(s=r.orderedLocations)?void 0:s.length)?l("div",{className:"_2e_2GhbJ"},h):null),l(ie,{userProfile:r.userProfile,isSponsored:this.props.isSponsored}))})}},fe.defaultProps={deleteObject:null},Ne.defaultProps={member:void 0,shelfKey:void 0},$=U(e=>({isMobile:"MOBILE"===e.meta.device.viewportCategory}))(be),e({LinkToTrip:Z,ShelfHeader:ee,ShelfItem:Ne,ShelfTripSection:ve,ShelfTripSectionInModal:$})},[e=>(i=e.default,l=e.createElement,t=e.Fragment,s=e.PureComponent,r=e.Component,o=e.createRef),e=>n=e.isTripUser,e=>c=e.default,e=>(u=e.InteractionLogger,d=e.ItemIdContext),e=>(m=e.localize,_=e.globalize,p=e.unescaped),e=>(h=e.Link,v=e.RouteConsumer),e=>f=e.default,e=>N=e.default,e=>k=e.Icon,e=>C=e.default,e=>g=e.ResponsiveImage,e=>(b=e.Abbreviate,S=e.EscapeHtml),e=>y=e.MemberStatsBasic,e=>w=e.Avatar,e=>I=e.BubbleRatingWithReviewCount,e=>O=e.featureIsEnabled,e=>P=e.default,e=>(T=e.AttractionOffers,R=e.AccommodationOffers),e=>(D=e.NoPhotoAvailableByPlaceType,x=e.PlaceTypeIcon),e=>A=e.QueriedTripFlowSelector,e=>E=e.BookmarkIcon,e=>L=e.LinkPreview,e=>M=e.ClickTracker,e=>H=e.default,e=>U=e.connect,e=>V=e.getVideoTrackingModule,e=>j=e.component,e=>z=e.BrandedHeader,e=>(B=e.FULLSCREEN_FROM_FEED_DATE_LOCAL_STORAGE_KEY,F=e.VideoSidebar),e=>K=e.default,e=>W=e.ActorSocialCounts]]},["cDcdfi","eFKnUp","f95x4s","pZzSdK","535agn","N4pTU2","4LU1Ax","jSLlaY","_qQcW3","DR4pHI","KwOV1Z","miRpRf","_RYn2L","Hgrhyo","QnohJ2","-i3PJS","oiya90","wvyC6D","0xEmr-","HZtvHO","vF730k","dbfIOb","Jk5sjx","mbrTCV","h74DsO","oN8Ht7","pLbCP4","6nM-E7","u8t1D4","qKFflQ","eJYNEt"]]);
