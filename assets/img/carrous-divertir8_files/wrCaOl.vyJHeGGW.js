(this.$WP=this.$WP||[]).push(["wrCaOl",(e,a)=>{"use strict";var t,n,i,o,r,l,d,c,s,u,v,b,_,m,f,k,g,p,T,h,w,I,N,y,S,E,C=()=>{b({module:"persistentheader",action:"click",context:"back_to_list"})},R=e=>({module:e,action:"in_view",context:""}),A=e=>{var{action:a,context:t}=e,n=function(e,a){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,["action","context"]);return Object.assign({},n,{action:t,context:a})},O=e=>{var a=f(e);"number"==typeof a&&a>=0&&window.scrollTo({top:a-80,behavior:"smooth"})},P=({locationId:e,disableCommerce:a,isOwner:t,premiumShopping:c,viewportCategory:T})=>{var[h,w]=i(!1),I=o(null),N=p("ATTRACTION_REVIEW"),E=p("ATTRACTION_REVIEW_NEARBY_REFRESH"),C=s("attraction_review_nearby_refresh")&&"true"!==c?E:N,P="true"===t?n(d,null):(!a||"true"!==a)&&n(l,null),x="MOBILE"===T,B=x?"none":"default",H="MOBILE"!==T;return r(()=>(v("AttractionReviewTabs").on("TabHeader_clickTab",O),function(){v("AttractionReviewTabs").off("TabHeader_clickTab")})),n(k.Provider,{value:{tabButtonStyleConfig:{padding:B,enableDynamicHiding:x},tabBarLayoutConfig:{alignPageUIContainer:!0,showAboveTabContentSeparateLine:H,nonTabContentPadding:"none"},hasBeenShown:h}},n(g.Provider,{value:{trackingPropsTransformer:A,inViewTrackingPropsWithTabName:R}},n(m,{tabModel:C,anchorId:"PERSISTENT_HEADER_ANCHOR_ID",layout:"sticky",tabTrackingInfo:S,stickyNonTabContent:()=>P,stickyAboveTabContent:()=>n(u,{onVisible:()=>{b({module:"persistentheader",action:"in_view"}),w(!0)}},a=>n("div",{ref:a},n(y,{locationId:e,viewportCategory:T,ref:I}))),getAboveTabContentHeight:()=>36,zIndex:9999}),n("div",{id:"PERSISTENT_HEADER_ANCHOR_ID"}),n(_,{callback:()=>{var e;(e=window.location.hash&&window.location.hash.substring(1))&&setTimeout(()=>{var a=f(e);"number"==typeof a&&a>=0&&window.scrollTo({top:a-80,behavior:"auto"})},300)},identifier:"ar_persistent_header"})))};return[()=>{(N=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ParentGeoPivot"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"parent"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"overviewUrl"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":144}}')).__key=62356130417852,N.loc.source={body:"38b66b00ccbc"},(y=t(({locationId:e,viewportCategory:a},t)=>n(T,{query:N,variables:{locationId:e}},({loading:e,error:i,data:o})=>{if(i||e||!o||!o.locations||!o.locations[0])return null;var r=o.locations[0];if(!r.parent||!r.parent.name)return null;var l="MOBILE"!==a&&s("attraction_ar_dt_green_persistent_header"),d=h("_2hO_30ja",l&&"_2ti-D7IE",!l&&"ui_container",!l&&"_1GMuaJ-3",!l&&s("cx_brand_refresh_degreen")&&"_a46Fuh9"),c=h("_1bhK4ZzT",l&&"_2ti-D7IE",!l&&"_1GMuaJ-3",!l&&s("cx_brand_refresh_degreen")&&"_a46Fuh9");return n("div",{className:d,ref:t,onClick:C},n("a",{className:c,href:r.overviewUrl},n(I,{name:"arrow-left",className:"_2uwZoc1H"}),n("span",{className:"_247assTC"},w("attraction_see_all_ttd_in_geo",{0:r.parent.name}))))}))).displayName="forwardRef(PivotLink)",S={module:"persistentheader",context:"click"},E=c((e,a)=>(l.stage(e,a),()=>({locationId:e.page.detailId,viewportCategory:e.meta.device.viewportCategory})))(P),e("default",E)},[e=>(t=e.forwardRef,n=e.createElement,i=e.useState,o=e.useRef,r=e.useEffect),e=>l=e.default,e=>d=e.default,e=>c=e.bind,e=>s=e.featureIsEnabled,e=>u=e.HasBeenVisible,e=>v=e.default,e=>b=e.default,e=>_=e.AfterPageLoad,e=>(m=e.default,f=e.getTabLocation),e=>(k=e.TabBarStyles,g=e.TrackingContext),e=>p=e.useTabBarModel,e=>T=e.Query,e=>h=e.default,e=>w=e.localize,e=>I=e.Icon]]},["cDcdfi","C7lsaN","rIiRwo","RiHMo-","-i3PJS","BLrxBS","l6BSGt","Jk5sjx","hEefnl","qHRhpr","V-aAcX","NbJixN","MGkW-Q","jSLlaY","535agn","_qQcW3"]]);
