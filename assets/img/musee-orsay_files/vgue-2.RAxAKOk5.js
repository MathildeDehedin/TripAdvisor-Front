(this.$WP=this.$WP||[]).push(["vgue-2",(e,r)=>{"use strict";var t,a,o,i,s,l,n,c,f,m,p,d,u,v,k,_,g=(e,r)=>{e.persist();var{require:t}=window;t&&t(["trjs!commerce/offerclick"],t=>{t.clickEvent(e.nativeEvent,e.currentTarget,r)})},C=e=>{var r=p(e.offers),a=d(e.offers),o=!!(a&&r&&.97*a.price>r.price),i=m(),u=s(e.trackingProps);if(r){var v=i.formatCurrencyInteger(r.price),k=t=>{e.preOfferClick&&e.preOfferClick(r),e.onOfferClick(t,r.offerClickToken),(e=>{e.stopPropagation()})(t)},_=!e.suppressCommerce,g=_?t(n,{legacyStyled:!0,variant:"commerce",size:"small",onClick:k},t(f,{id:"view_deal"})," "):t("a",{href:e.hotelReviewUrl,target:"_blank"},t(n,{legacyStyled:!0,variant:"secondary",size:"small"},t(f,{id:"view_hotel"})," "));return t("div",{className:"_1MDua2Xr"},t("div",{className:"_3Kx3p-c_"},_&&a&&o&&t(l,{className:"_2KQMoQwI",defaultFontSizePx:14,minFontSizePx:10},i.formatCurrencyInteger(a.price)),t("div",{onClick:_?k:void 0},t(l,{className:"nLOrmafc",defaultFontSizePx:e.priceSize,minFontSizePx:14},_&&v)),t("div",{className:"_28YA4K9A",onClick:_?k:void 0},_&&t("span",{className:"_3mnYKPJ8"},r.provider),_&&!r.isInstantBook&&t("span",{className:"_3q2oKpsZ"},t(c,{name:"external-link-no-box"})))),t("div",{className:"_1Dq051wS",onClick:u},g))}var C=e.offers&&0===e.offers.length?t(f,{id:"meta_ui_contact_hotel_c2b"}):t(f,{id:"no_availailability_from_partners"});return t("div",{className:"_1MDua2Xr"},t("span",{className:"_2rks91e2"},C))},h=e=>{var[r,s]=a(1),[l]=o(_),n=()=>{s(r+1)},{locationId:c}=e,f=0===l.page.trim().length?"WebComponentMap":l.page;return t(k,{url:`/data/1.0/mapsEnrichment/hotel/${c}?rn=${r}&rc=${f}&stayDates=&guestInfo=`,parser:(e,t)=>{if(e){var{hotels:a,hacStatus:o}=e,i=o&&(o.isHacComplete||o.hacPercentComplete>90);if(a&&1===a.length){var s=a[0];return{offers:s.offers&&s.offers.filter(e=>!!e.providerInfo).map(e=>({offerClickToken:e.offerClickToken,price:e.price,status:e.status,provider:e.providerInfo.name,isInstantBook:e.providerInfo.isInstantBook})),complete:i||r>=5}}}return{offers:[],complete:!!t}}},a=>{var o,{loading:s,data:l}=a;return o=l&&(l.complete||p(l.offers||[]))?t(C,{offers:l.offers||[],trackingProps:e.trackingProps,hotelReviewUrl:e.hotelReviewUrl,suppressCommerce:e.suppressCommerce}):t("div",{style:{width:"100%"}},t(v,{size:"small"})),t(i,null,t(u,{loading:s,complete:!!l&&l.complete,requestNumber:r,poll:n}),o)})};return[()=>{C.defaultProps={offers:[],trackingProps:{module:"maps_hotel_offer",action:"commerce_click"},onOfferClick:g,preOfferClick:()=>{},priceSize:20},h.defaultProps={trackingProps:{module:"deferred_hotel_offer",action:"commerce_click"}},e({DeferredHotelOffer:h,HotelOffer:C})},[e=>(t=e.createElement,a=e.useState,o=e.useContext,i=e.Fragment),e=>s=e.useGARecordCallback,e=>l=e.AutoResizer,e=>n=e.default,e=>c=e.default,e=>(f=e.default,m=e.useIntlFormatter),e=>(p=e.findFirstOffer,d=e.findWorstOffer),e=>u=e.default,e=>v=e.LoadingSpinner,e=>k=e.default,e=>_=e.Route]]},["cDcdfi","fsml46","miRpRf","eFikmI","OMqGt0","0DsHEV","fTsrJe","FHZ_Dz","V08PS7","w_dosq","2R4xv2"]]);
