(this.$WP=this.$WP||[]).push(["thFMrK",(e,t)=>{"use strict";var s,r,i,a,o;return[()=>{o=i.onUsage(()=>t("thFMrK/RQFZYD"),"default"),e("GeoPillSponsor",a=class extends s.Component{constructor(e){super(e),this.updateSponsorData=e=>{this.state.listeners.forEach(t=>t(e)),this.setState({listeners:[],sponsorData:e})},this.isSponsoredGeopillEnabled=()=>r("where_to_top_featured_destination"),this.onMessage=e=>{if(!this.state.sponsorData){var{sponsorName:t,sponsorParentGeoName:s,pinGeoId:r,clickTracker:i,thirdPartyClickTrackerURL:a,impressionTrackerURL:o}=e;this.updateSponsorData({name:t,location_id:r,ancestors:(s||"").split(",").map(e=>e.trim()),dfpTrackingUrl:i,thirdPartyClickTrackerURL:a}),this.setState({impressionTrackerURL:o})}},this.fetchAds=()=>{!this.state.dfpRequested&&this.isSponsoredGeopillEnabled()&&(this.setState({dfpRequested:!0}),this.setState({loadAd:!0}))},this.sponsorDataProvider=e=>{this.state.sponsorData?"function"==typeof e&&e(this.state.sponsorData):(this.fetchAds(),"function"==typeof e&&this.state.listeners.push(e))},this.state={dfpRequested:!1,loadAd:!1,listeners:[],impressionTrackerURL:""}}render(){var{loadAd:e}=this.state,{children:t,adAreaId:r}=this.props;return s.createElement(s.Fragment,null,this.isSponsoredGeopillEnabled()?s.createElement(s.Fragment,null,e&&s.createElement(o,{position:r,onMessage:this.onMessage}),this.state.impressionTrackerURL&&s.createElement("iframe",{title:"Third Party iframe",src:this.state.impressionTrackerURL,height:"0",width:"0",hidden:!0})):null,t(this.isSponsoredGeopillEnabled()?this.sponsorDataProvider:null))}}),e("GeoPillSponsor",a)},[e=>s=e.default,e=>r=e.featureIsEnabled,e=>i=e.component]]},["cDcdfi","-i3PJS","pLbCP4"]]);
