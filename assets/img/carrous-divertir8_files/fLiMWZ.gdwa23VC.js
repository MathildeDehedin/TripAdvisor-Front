(this.$WP=this.$WP||[]).push(["fLiMWZ",(e,a)=>{"use strict";var t,l,r,s,o,i,n,d,p,c,m,f,u,_,T,h,v,g,N,P,x,O,A={strikeThroughText:"_9RLeo7J7",priceText:"_1dd8uj5Z",providerDisplayName:"_1GDaM2x3",offerLink:"_27wsSHGU",detailsBlock:"_1MhFbYov",providerDisplayNameOuter:"lrmOJMoo",ctaBlock:"XaGo2YAM",detail:"_7rBTeb9m",detailShelfOffer:"B0wWWd6x",detailShelfBottom:"_20-KOO1d",detailShelfBottomCell:"_2DVFhcPO",mapBottomSmall:"_1yem-qUP",mapBottom:"_2RQ1c4qM",mapOffer:"_1hEExYut",detailBottom:"_FEU7Av8",detailBottomCell:"zSWeVc25",logoTextOffer:"mDFZNRGM",priceBlock:"_2S6TIoCV",perPersonText:"_24qhLjhM",logo:"i5W17ptf",detailChevronOffer:"_2wAhqH8C",logoTextOfferWrapper:"_2xfjwXC7",ctaWrapper:"JI8zk_PL",detailTextOffer:"_2_w5U1Rt",providerAndPrice:"_3M2BvM2a",separator:"_8dbPwtn7",dominantOffer:"_3jDKoNmF",logoText:"_2gzaqZFr",text:"_3Jw8a990"},S={DEFAULT_CTA_TEXT:()=>c("view_deal"),VP_BOARD_LABEL:e=>(e=>(P||(P={RO:c("board_basis_room_only"),SC:c("board_basis_self_catering"),BB:c("board_basis_breakfast_included"),HB:c("board_basis_half_board"),FB:c("board_basis_full_board"),AI:c("board_basis_all_inclusive")}),P[e]))(e)||null,VP_OFFER_HAS_AIRPORT_TRANSFER:()=>c("tags_category_tag_airport_transportation"),VP_STAY_NIGHTS_PLUS_FLIGHT:e=>c("num_night_stay_plus_flight_v2",{nNights:e}),VP_STAY_NIGHTS:e=>c("mobile_ib_nights_plural",{0:e}),VP_PER_PERSON:()=>c("vp_per_person_short"),VP_HOTEL_PLUS_FLIGHT:()=>c("hotel_plus_flight")},y=e=>{var{logoUrl:a,displayName:l,showExtLinkIcon:r,noLogo:o}=e;return a||l?o||!a?t("div",{className:A.providerDisplayNameOuter},t("span",{className:A.providerDisplayName},l),r?t(E,null):null):t(s,{className:d(A.logo),src:a,alt:l}):null},w=({children:e})=>t(m,{size:"large",type:"original"},e),E=()=>t(p,{name:"external-link-no-box"}),b=({priceText:e,strikeThroughText:a,isPerPersonRate:l=!0,showStrikeThroughPrice:r=!0})=>t("div",{className:A.priceBlock},r&&a&&a!==e?t("div",{className:A.strikeThroughText},a):null,t("div",{className:A.priceText},e,l&&t("span",{className:A.perPersonText},S.VP_PER_PERSON()))),k=({offer:e,fields:a})=>{var l=[];return a.forEach(a=>{var t=((e,a)=>{switch(a){case"boardBasis":return S.VP_BOARD_LABEL(e.boardBasisCode||"NONE");case"airportTransfer":return!0===e.hasAirportTransfer?S.VP_OFFER_HAS_AIRPORT_TRANSFER():null;case"hotelPlusFlight":return S.VP_HOTEL_PLUS_FLIGHT();case"numNightsPlusFlight":return e.stayNights>0?S.VP_STAY_NIGHTS_PLUS_FLIGHT(e.stayNights):null;case"numNights":return e.stayNights>0?S.VP_STAY_NIGHTS(e.stayNights):null;default:return null}})(e,a);null!=t&&l.push(t)}),l.map(e=>t("span",{className:A.detail,key:e},e))},D=e=>{var{offer:a,noLogo:l}=e,{strikeThroughText:r,priceText:s,providerDisplayName:o,providerLogoUrl:d}=a;return t("div",{className:A.logoTextOffer},t(i,{gapless:!0,verticallyCentered:!0,gaplessVertical:!0,mobile:!0},t(n,{width:6,mobile:{width:6}},t(y,{logoUrl:d,displayName:o,noLogo:l,showExtLinkIcon:!0})),t(n,{width:6,mobile:{width:6}},t(b,{priceText:s,strikeThroughText:r}))),t(i,{gapless:!0,gaplessVertical:!0,mobile:!0},t(n,{width:12,mobile:{width:12}},t("div",{className:A.detailsBlock},t(k,{offer:a})))))},C=e=>{var{viewDealText:a=S.DEFAULT_CTA_TEXT()}=e;return t("div",{className:d("ui_columns is-gapless is-gapless-vertical is-mobile",A.detailChevronOffer)},t(n,{width:8,mobile:{width:8}},t("div",{className:A.logoTextOfferWrapper},t(D,e))),t("div",{className:d("ui_column is-4 is-4-mobile",A.ctaWrapper)},t("div",{className:A.ctaBlock},t(w,null,t("span",{className:A.ctaText},a)))))},L=({offer:e})=>{var{providerDisplayName:a,priceText:l}=e;return t("div",{className:A.detailTextOffer},t("div",{className:A.providerAndPrice},t("div",{className:A.providerDisplayName},a,t(E,null)),t("span",{className:A.separator}),t("div",{className:A.priceText},l)),t("div",{className:A.detailsBlock},t(k,{offer:e})))},R=e=>{var{viewDealText:a=S.DEFAULT_CTA_TEXT()}=e;return t("div",{className:A.dominantOffer},t(D,e),t("div",{className:A.ctaBlock},t(w,null,a)))},B=e=>{var{viewDealText:a=S.DEFAULT_CTA_TEXT(),offer:l}=e,{priceText:r,providerDisplayName:s,providerLogoUrl:o}=l;return t("div",{className:A.detailShelfOffer},t("div",{className:A.detailsBlock},t(k,{offer:l,fields:["boardBasis","airportTransfer","numNights"]})),t("div",{className:A.detailShelfBottom},t("div",{className:A.detailShelfBottomCell},t(b,{priceText:r}),t(y,{logoUrl:o,displayName:s,noLogo:!0,showExtLinkIcon:!0})),t("div",{className:A.detailShelfBottomCell},t(m,null,a))))},I=e=>{var{viewDealText:a=S.DEFAULT_CTA_TEXT(),offer:l,mapOfferType:r}=e,{strikeThroughText:s,priceText:o,providerDisplayName:i,providerLogoUrl:n,isPerPersonRate:d}=l;return t("div",{className:A.mapOffer},t("div",{className:A.detailBottom},t("div",{className:"list"===r?A.mapBottomSmall:A.mapBottom},t(b,{priceText:o,strikeThroughText:s,isPerPersonRate:d,showStrikeThroughPrice:!1}),t(y,{logoUrl:n,displayName:i,noLogo:!0,showExtLinkIcon:!0})),t("div",{className:A.detailBottomCell},t(m,{size:"small",type:"original"},a))))},U=e=>{var a,{displayType:l,offer:r,onClick:s,className:i,viewportCategory:n}=e,{offerUrl:p}=r;return a="detailChevron"===l?t(C,e):"dominant"===l?t(R,e):"logoText"===l?t("div",{className:A.logoText},t(D,e)):"text"===l?t("div",{className:A.text},t(D,Object.assign({},e,{noLogo:!0}))):"detailText"===l?t(L,e):"detailShelf"===l?t(B,e):"mapList"===l?t(I,Object.assign({mapOfferType:"list"},e)):"mapPopup"===l?t(I,Object.assign({mapOfferType:"popup"},e)):null,"none"===l?null:t(o,{target:"MOBILE"===n?"_self":"_blank",encodedUrl:p,useSpan:!1,onClick:e=>s(r,e),className:d(A.offerLink,i)},a)},F=e=>{var{onViewDeal:a,offers:l,displayType:r,separator:s,className:o}=e,i=l.map(e=>t("li",{className:"_1KUU8D2Z",key:e.offerUrl},t(x,{displayType:r,offer:e,onClick:a})));return t("ul",{className:d("T-EnsyQ5",s&&"_1_7XAICb",o)},i)},V={metaOfferWidget:"_2reSu0__",popoverAltTreatment:"_1C6DcrDj",inlineAltTreatment:"_1kT9QoJK",popoverInner:"_15Sxrvmt",expanderMobile:"_20Wpz3ZY",expanderDesktop:"_1tWeuD8i",disabled:"_3B9cXAtw"},G=e=>c("view_all_n_deals_plural",{0:e}),W=(e,a)=>c("view_all_deals_from_commerce_on_list_screen",{0:e,1:a}),j=({expand:e,children:a})=>t(u,{mobile:t("a",{onClick:e,className:d("ui_button secondary",V.expanderMobile)},a),tablet:t("a",{onClick:e,className:d("ui_button secondary",V.expanderMobile)},a),desktop:t("a",{onClick:e,className:d(V.expanderDesktop)},a)}),M=e=>(e.filter(e=>!!e.isLowestPrice).shift()||e[0]||{}).priceText,H={UNSUPPORTED_GEO:"UNSUPPORTED_GEO",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},X={PARTNERS:"PARTNERS",NONE:"NONE"},J=(e,a,t,l)=>{var r,s=!1;return _(((e,a)=>(a,t)=>{var l,s,o,i,n={};return e&&null===(n=e(a,t))?null:((e,a,t)=>{var l=Object.assign({},e,{rn:t,queryId:a});return"/data/1.0/vacationpackages/offers?"+Object.keys(l).sort().filter(e=>null!=l[e]&&0!==l[e].length).map(e=>`${O(e)}=${O(l[e])}`).join("&")})(Object.assign({rc:(null==(l=a.route)?void 0:l.page)||(null==(s=a.meta)?void 0:s.initialServletName)||"dataapi",locale:null==(o=a.i18n)?void 0:o.locale,currency:null==(i=a.i18n)?void 0:i.currencyCode},n,{hotels:(n.hotels||[]).join(","),geoId:n.geo||a.page.geoId,excludeProviders:(n.excludeProviders||[]).join(","),childrenAges:(n.childrenAges||[]).join(",")}),r,t)})(e),e=>(s=a&&a()||!(!e||!(e.error||e.status&&e.status!==H.IN_PROGRESS)),r=s?null:e&&e.queryId,s),(e,a,l)=>t(e,a,l,s),l)},q=e=>{var{startDate:a,endDate:t}=T(e);return a&&t&&new h(a).daysTo(new h(t))},Y=(e,a,t)=>{var l={module:e,action:a};void 0!==t&&(l.value=t),v(l)},z=(e,a,t)=>{var l={module:e,action:a};void 0!==t&&(l.value=t),g(l)};return[()=>{y.defaultProps={logoUrl:null,displayName:null,showExtLinkIcon:!1,noLogo:!1},b.defaultProps={strikeThroughText:null,isPerPersonRate:!0,showStrikeThroughPrice:!0},k.defaultProps={fields:["boardBasis","airportTransfer","hotelPlusFlight"]},C.defaultProps=U.defaultProps={onClick:()=>{},noLogo:!1,boardBasisCode:null,hasAirportTransfer:null},R.defaultProps=U.defaultProps,D.defaultProps=U.defaultProps,L.defaultProps=U.defaultProps,B.defaultProps=U.defaultProps,x=r((e,a)=>Object.assign({},a,{viewportCategory:e.meta.device.viewportCategory}))(U),F.defaultProps={onViewDeal:()=>{},separator:!1,displayType:"logoText",className:null},e("VpMetaOfferWidget",N=class extends l{constructor(e){super(e),this.clickedExpand=()=>{this.setState({expanded:!0})},this.clickedCollapse=()=>{this.setState({expanded:!1})},this.state={expanded:!1}}getNumOffersToShow(){var{offers:e,limit:a}=this.props;return a>0?Math.min(e.length,a):e.length}renderDefaultAltTreatment(){return t(u,{mobile:this.renderInlineAltTreatment(),tablet:this.renderPopoverAltTreatment(),desktop:this.renderPopoverAltTreatment()})}renderPopoverAltTreatment(){var{offers:e,altType:a,limit:l,viewDealText:r,onViewDeal:s}=this.props,o={},i=this.getNumOffersToShow(),n=M(e),d=n?W(i,n):G(i);return t("div",{className:V.popoverAltTreatment},t(f,{below:!0,alignEdge:"left",minWidth:160,closeButton:!1,contents:()=>t("div",{className:V.popoverInner},t(F,{offers:e.slice(0,l),displayType:a,viewDealText:r,onViewDeal:s}))},(e,a)=>t("a",{ref:e,style:o,onClick:a,className:V.expanderDesktop},d,t(p,{name:"caret-down"}))))}renderInlineAltTreatment(){var{expanded:e=!1}=this.state,{offers:a,limit:l,viewDealText:r,onViewDeal:s,altType:o}=this.props,i=this.getNumOffersToShow(),n=M(a),p=n?W(i,n):G(i),m=t(j,{expand:this.clickedExpand},p),f=c("collapse_deals"),u=t("a",{onClick:this.clickedCollapse,className:d("ui_button secondary",V.expanderMobile)},f);return t("div",{className:V.inlineAltTreatment},e?t(F,{displayType:o,offers:a.slice(0,l),viewDealText:r,onViewDeal:s,separator:!0}):null,t("div",{className:V.footer},e?u:m))}renderAltTreatment(){var{offers:e,show:a,altTreatment:t,altType:l}=this.props,r=null;return"none"!==l&&e&&e.length>a&&(r="inline"===t?this.renderInlineAltTreatment():"popover"===t?this.renderPopoverAltTreatment():this.renderDefaultAltTreatment()),r}render(){var{mainType:e,offers:a,viewDealText:l,onViewDeal:r,show:s,limit:o}=this.props,{expanded:i}=this.state;return t("div",{className:d(V.metaOfferWidget,i?V.expanded:V.collapsed)},t(F,{displayType:e,offers:a.slice(0,s),limit:o,viewDealText:l,onViewDeal:r,className:V.vpOfferList}),this.renderAltTreatment())}}),N.defaultProps={onViewDeal:()=>{},show:1,mainType:"detailChevron",altType:"text",altTreatment:"default",limit:25},O=encodeURIComponent,e({OFFER_SOURCE:X,ORIG_AIRPORT_LARGEST_FOR_POS:"LARGEST_FOR_POS",STATUS:H,VpMetaOfferWidget:N,VpOffer:x,VpOfferList:F,bindVpData:J,extractNumNights:q,trackEventAJAX:Y,trackEventAJAXOnPageOnce:z})},[e=>(t=e.createElement,l=e.Component),e=>r=e.connect,e=>s=e.CdnImage,e=>o=e.default,e=>(i=e.Columns,n=e.Column),e=>d=e.default,e=>p=e.Icon,e=>c=e.localize,e=>m=e.default,e=>f=e.default,e=>u=e.ViewportCategory,e=>_=e.bindDataApiPoller,e=>(T=e.decode,h=e.CalendarDate),e=>(v=e.default,g=e.trackEventAJAXOnPageOnce)]]},["cDcdfi","h74DsO","4kVXmt","oiya90","_AgNiB","jSLlaY","_qQcW3","535agn","PCbs_l","eDFcUX","FjihCs","LgmAJW","qK4vTI","Jk5sjx"]]);
