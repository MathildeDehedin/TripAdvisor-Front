(this.$WP=this.$WP||[]).push(["VwUieX",(e,t)=>{"use strict";var o,n,r,a,i,s,l,p,c,u,d,m,h,v,f,g,C,P,M,y,k,I,O,x,b,L,R,S,w,z,_,Z=(e,t=[],o={loading:!1})=>{var s=n(e);r(()=>{s.current=e},[e]);var l=n(!1);r(()=>(l.current=!0,()=>{l.current=!1}),[]);var[p,c]=a(o);return[p,i((...e)=>{c({loading:!0}),s.current(...e).then(e=>(l.current&&c({value:e,loading:!1}),e),e=>(l.current&&c({error:e,loading:!1}),e))},t)]},E=({forceMapProvider:e,mapInterfaceProps:t,containerRef:o,geoId:r,servlet:p,onMapInterfaceLoaded:c})=>{var u=l(f),d=l(g),m=n(c),h=n(o),C=n(Object.assign({},t,{isRtl:u.locale.isRtl,locale:u.locale.language,userAgentCategory:d.userAgentCategory}));m.current=c,h.current=o,C.current=Object.assign({},t,{isRtl:u.locale.isRtl,locale:u.locale.language,userAgentCategory:d.userAgentCategory});var P=((e,t,o)=>{var r,p,c,u,[d,m]=a(null),[{value:h},g]=Z(i(e=>(e=>{if("mock"===e.forceMapProvider){var t={mapProvider:"mock",mapConfig:{lang:"en",channel:"ta.maps.mock"}};return new Promise(e=>e({json:()=>new Promise(e=>e(t))}))}return fetch("/data/1.0/maps/provider?"+(e=>{var t={};return Object.keys(e).forEach(o=>{null!=e[o]&&(t[o]=e[o])}),new URLSearchParams(t)})({servletName:e.servletName,locale:e.locale,geoId:e.geoId,forceMapProvider:e.forceMapProvider}).toString(),{credentials:"same-origin"})})(e).then(e=>e.json()),[])),[{value:C},P]=Z(i(e=>{var t=x[e];return t?t():Promise.reject(Error("Unknown map provider "+e))},[]),[]),[{loading:M,value:y},k]=(r=n(0),p=n(v()),c=i((e,t,o)=>{var n=new t;if(n.isLibraryLoaded())return new Promise(e=>e({loaded:!0,wasPreviouslyLoaded:!0}));var a=++r.current;return new Promise(t=>{n.loadLibrary(o,()=>{if(p.current({module:"map_view",action:"load",context:e}),a!==r.current)throw new Error("Stale map provider request");t({loaded:!0,wasPreviouslyLoaded:!1})})})},[]),(u=Z(c))[0].loading?[u[0],()=>{}]:u),I=((e,t,o)=>{var r=l(f).locale.language;return n({servletName:o,locale:r,geoId:t,forceMapProvider:e}).current})(e,t,o),O=y&&y.loaded,b=h&&h.mapProvider,L=h&&h.mapConfig,R=C&&C.MapFactory;s(()=>{g(I)},[I,g]),s(()=>{b&&P(b)},[b,P]);var S=M||O;return s(()=>{!S&&b&&L&&R&&k(b,R,Object.assign({lang:I.locale,channel:"ta.maps"},L))},[S,I,R,L,b,k]),s(()=>{O&&b&&C&&!d&&m({MapInterfaceClass:C.MapInterface,mapProviderName:b})},[b,C,d,O]),d})(e,r,p),M=P?P.MapInterfaceClass:null,y=P?P.mapProviderName:null;return s(()=>{if(M&&y){var e=new M(h.current,C.current);m.current(e,y)}},[M,y]),null},W=e=>{var t=v();return c(y,Object.assign({gaRecorder:t},e))},A=e=>c(R,null,({map:t})=>c(k,Object.assign({},e,{map:t}))),U=(e,t,o=!1)=>{var{map:a}=l(b),s=n(t);r(()=>{s.current=t},[t]);var p=i(()=>{s.current()},[]);r(()=>a?(o?a.once(e,p):a.on(e,p),()=>{a.off(e,p)}):()=>{},[a,e,p,o])},D=({zIndexOffset:e,position:t,children:o,onClick:s,onMouseEnter:p,onMouseLeave:u,disableTracking:d,trackingContext:m,className:h,draggable:f,onDrag:g})=>{var{map:M}=l(b),[y,k]=a(null),[I,O]=a(!1),x=v();r(()=>{if(!M)return()=>{};var e=M.createMarkerContainer();return k(e),e.getContainer()?O(!0):e.setMarkerReadyCallback(()=>{O(!0)}),()=>{M.removeMarkerContainer(e)}},[M]),r(()=>{y&&y.setZIndexOffset(e)},[y,e]),r(()=>{y&&!t.equals(y.getPosition())&&y.setPosition(t)},[y,t]),r(()=>{y&&y.setDraggable(f)},[y,f]),r(()=>{y&&y.setDragCallback(g)},[y,g]);var L=i(e=>{e.stopPropagation(),d||x({module:"pin",action:"pin_click",context:m||""}),s&&s()},[d,m,s,x]),R=i(()=>{d||x({module:"pin",action:"pin_hover",context:m||""}),p&&p()},[d,m,p,x]),[S,z]=((e,t=0)=>{var o=n(null),a=n(e),s=i(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{a.current()},t)},[t]),l=i(()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]);return r(()=>{a.current=e},[e]),[s,l]})(R,300),_=i(()=>{z(),u&&u()},[u,z]),Z=y&&y.getContainer();if(I&&Z){var E=c("div",{className:P(h,{ipRu2ZXn:!!s}),onClick:L,onTouchEnd:L,onMouseEnter:S,onMouseLeave:_},o);return c(w,{value:{position:t}},C.createPortal(E,Z))}return null},T=e=>c(D,{position:e.position,zIndexOffset:e.zIndexOffset,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,trackingContext:e.trackingContext,draggable:e.draggable,onDrag:e.onDrag},c(M,{style:{cursor:"pointer",width:e.width+"px",height:e.height+"px",position:"absolute",left:`-${e.anchor.x}px`,top:`-${e.anchor.y}px`,opacity:e.alpha,transition:e.animated?"width 0.3s, height 0.3s, left 0.3s, top 0.3s":null},src:e.src}),e.children),N={markerCalloutContainer:"_1Ww3ZOQw",topleft:"p6h-fNU_",top:"_3gkGhcV7",topright:"_2VCJJ2du",left:"_20yznTxd",right:"_3B9aMwFS",bottomleft:"_3ecYLYq5",bottom:"_2nmuQ8oG",bottomright:"_1KI1G-MU",noInteraction:"AgXu8aaS"},j=()=>{},B=e=>{if(!e.visible)return null;var t=t=>c(R,null,({map:o})=>o&&c(I,{direction:e.direction,offset:e.offset,position:t,autoPan:e.autoPan,map:o,zIndexOffset:e.zIndexOffset,disableInteraction:e.disableInteraction},e.children));return e.position?t(e.position):c(z,null,e=>t(e.position))},G=e=>c(R,null,({map:t})=>c(O,Object.assign({},e,{map:t})));return[()=>{x={"ta-maps-google":()=>t("1lTcUI"),"ta-maps-citymaps":()=>t("FIPhPQ"),"ta-maps-autonavi":()=>t("q9bHm9"),mock:()=>t("RSaHg-")},b=p({map:null,mapProvider:""}),L=b.Provider,R=b.Consumer,e("MapComponentTrackingWrapper",y=class extends u{constructor(...e){super(...e),this.state={mapInterface:null,mapProvider:null},this.onMapInterfaceLoaded=(e,t)=>{if(null===this.state.mapInterface){e.once("renderComplete",()=>{this.props.onLoad&&this.componentMounted&&e&&this.props.onLoad({map:e})}),e.on("click",e=>{this.props.onClick&&this.props.onClick(e)}),e.on("centerChange",e=>{this.props.onCenterChange&&this.componentMounted&&this.props.onCenterChange(e)}),e.on("panStart",e=>{this.props.gaRecorder({module:"map_move",action:"pan",context:e.zoom.toString(10)}),this.props.onPanStart&&this.props.onPanStart(e)}),e.on("renderComplete",e=>{this.props.onRenderComplete&&this.props.onRenderComplete(e)});var o=this.props.initialZoom;e.on("zoomChange",e=>{this.props.gaRecorder({module:"map_move",action:e.zoom>o?"zoom_in":"zoom_out",context:e.zoom.toString(10)}),o=e.zoom,this.props.onZoomChange&&this.props.onZoomChange(e)}),this.props.initialBounds&&e.setBounds(this.props.initialBounds),this.setState({mapInterface:e,mapProvider:t})}},this.setContainerRef=e=>{this.containerRef||(this.containerRef=e,this.forceUpdate())},this.handleResize=()=>{this.state.mapInterface&&this.state.mapInterface.resize()},this.componentMounted=!1,this.containerRef=null}componentDidMount(){this.componentMounted=!0,this.props.gaRecorder({module:"map_view",action:"open",context:this.containerRef?""+this.containerRef.offsetWidth:"0"})}componentWillUnmount(){this.componentMounted=!1;var e=this.state.mapInterface;e&&e.unmount(),this.props.gaRecorder({module:"map_view",action:"close"})}render(){var{mapInterface:e,mapProvider:t}=this.state,{children:o}=this.props;return c("div",{className:"_1yEL-TIe",style:{touchAction:this.props.disableGestures?"auto":"none"}},c(h,{callback:this.handleResize}),this.containerRef&&c(m,{node:{current:this.containerRef}},(e,t)=>(!this.props.lazy||t)&&!!this.containerRef&&c(E,{mapInterfaceProps:{zoom:this.props.initialZoom,center:this.props.initialCenter,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,onLoad:this.props.onLoad,scrollWheelZoom:this.props.scrollWheelZoom,disableGestures:this.props.disableGestures},containerRef:this.containerRef,onMapInterfaceLoaded:this.onMapInterfaceLoaded,forceMapProvider:this.props.forceMapProvider,servlet:this.props.servlet,geoId:this.props.geoId})),c("div",{className:"map_container _3gxaoFgc",ref:this.setContainerRef}),c(L,{value:{map:e,mapProvider:t||""}},o))}}),y.defaultProps={initialCenter:new o(0,0),initialZoom:13,initialBounds:null,minZoom:2,maxZoom:19,scrollWheelZoom:!0,disableGestures:!1,lazy:!0,children:[],onLoad:null,onClick:null,onPanStart:null,onCenterChange:null,onZoomChange:null,onRenderComplete:null},k=class extends u{constructor(...e){super(...e),this.state={circleOverlay:null}}componentDidMount(){this.handleProps(this.props)}componentDidUpdate(){this.handleProps(this.props)}componentWillUnmount(){var{map:e}=this.props,{circleOverlay:t}=this.state;e&&t&&(e.removeCircleOverlay(t),this.setState({circleOverlay:null}))}handleProps(e){var{circleOverlay:t}=this.state,{map:o}=e;o&&(t||(t=o.addCircleOverlay(this.props),this.setState({circleOverlay:t})),t.setPosition(e.position),t.setRadius(e.radius),t.setFillColor(e.fillColor),t.setStrokeColor(e.strokeColor),t.setStrokeWidth(e.strokeWidth),t.setOpacity(e.opacity))}render(){return null}},S=p({position:null}),w=S.Provider,z=S.Consumer,D.defaultProps={zIndexOffset:0,children:null,onClick:void 0,onMouseEnter:void 0,onMouseLeave:void 0,disableTracking:!1,trackingContext:void 0,className:void 0,draggable:!1},T.defaultProps={zIndexOffset:0,draggable:!1,animated:!1,children:null,onMouseEnter:null,onMouseLeave:null,onClick:null,alpha:1,trackingContext:null},_=d(T),I=class extends u{constructor(...e){super(...e),this.hasAutoPanned=!1,this.checkAutoPan=e=>{if(e&&this.props.autoPan&&!this.hasAutoPanned){this.hasAutoPanned=!0;var t=e.offsetWidth,o=e.offsetHeight;this.props.map.panIntoView(this.props.position,((e,t,o)=>{var n={left:t/2,right:t/2,top:o/2,bottom:o/2};return e.includes("left")&&(n.left=t,n.right=0),e.includes("right")&&(n.left=0,n.right=t),e.includes("top")&&(n.top=o,n.bottom=0),e.includes("bottom")&&(n.top=0,n.bottom=o),n})(this.props.direction,t,o))}}}render(){var{direction:e,position:t,zIndexOffset:o,offset:n,children:r,disableInteraction:a}=this.props,i=N[e];return c(D,{position:t,zIndexOffset:o,disableTracking:!0},c("div",{ref:this.checkAutoPan,className:`${N.markerCalloutContainer} ${a?N.noInteraction:""} ${i}`,style:{marginTop:n.y,marginLeft:n.x},onClick:j,onMouseEnter:j,onMouseLeave:j},r))}},B.defaultProps={position:null,autoPan:!0,visible:!0,offset:{x:0,y:0},zIndexOffset:99999999,disableInteraction:!1},O=class extends u{constructor(...e){super(...e),this.state={polygonOverlay:null}}componentDidMount(){this.handleProps(this.props)}componentDidUpdate(){this.handleProps(this.props)}componentWillUnmount(){var{map:e}=this.props,{polygonOverlay:t}=this.state;e&&t&&(e.removePolygonOverlay(t),this.setState({polygonOverlay:null}))}handleProps(e){var{polygonOverlay:t}=this.state,{map:o}=e;o&&(t||(t=o.addPolygonOverlay(this.props),this.setState({polygonOverlay:t})),t.setPolygon(e.coords),t.setFillColor(e.fillColor),t.setStrokeColor(e.strokeColor),t.setStrokeWidth(e.strokeWidth),t.setOpacity(e.opacity),t.setStrokeOpacity(e.strokeOpacity),t.setOnMouseOverInteraction(e.onMouseOver),t.setOnMouseOutInteraction(e.onMouseOut),t.setOnClickInteraction(e.onClick))}render(){return null}},e({CircleOverlay:A,IconMarker:_,MapComponent:W,MapContext:b,MapContextConsumer:R,MapContextProvider:L,MapProviderAutonavi:"ta-maps-autonavi",MapProviderCitymaps:"ta-maps-citymaps",MapProviderGoogle:"ta-maps-google",Marker:D,PolygonOverlay:G,Popup:B,useMapEvent:U})},[t=>{o=t.LatLng,e({LatLng:t.LatLng,LatLngBounds:t.LatLngBounds,Util:t.Util})},t=>e("MapInterface",t.MapInterface),e=>(n=e.useRef,r=e.useEffect,a=e.useState,i=e.useCallback,s=e.useLayoutEffect,l=e.useContext,p=e.createContext,c=e.createElement,u=e.PureComponent,d=e.memo),e=>m=e.HasBeenVisible,e=>h=e.default,e=>v=e.useGARecorder,e=>(f=e.Environment,g=e.Device),e=>C=e.default,e=>P=e.default,e=>M=e.CdnImage,t=>e("MockMapInterface",t.MapInterface)]]},["A8AD3f","kI6OFW","cDcdfi","BLrxBS","w4JHTr","fsml46","2R4xv2","faye7n","jSLlaY","4kVXmt","RSaHg-"]]);
