(this.$WP=this.$WP||[]).push(["auVyhB",(e,i)=>{"use strict";var a,n,t,d,l,o,r,u,s,m,c,v,k=({photos:e,totalCount:i,loadMorePhotos:l,width:o,height:c,locationId:v,trackingContext:k,captureNavEvents:h})=>{var p=e.length,[N,g]=a(0),f=u(),S=n(e=>{h&&(e.stopPropagation(),e.preventDefault()),g(e=>{var a=Math.min(p-1,e+1);return l&&a>=p-2&&p<i&&l(),a}),f({module:"pin",action:"pin_photo_carousel_forward",context:k,value:v})},[p,v,f,k,i,l,h]),b=n(e=>{h&&(e.stopPropagation(),e.preventDefault()),g(e=>Math.max(0,e-1)),f({module:"pin",action:"pin_photo_carousel_back",context:k,value:v})},[v,f,k,h]),y=t(()=>e.map((e,i)=>d(s,{key:e.id,shouldLoad:Math.abs(N-i)<=2},d(m,{key:e.id,sources:e.photoSizes,notLazy:!0,width:"100%",height:"100%",fitStrategy:"cover"}))),[e,N]);return d(r,{width:o,height:c,displayIndex:N,totalContentCount:i,onPrevious:b,onNext:S,isPreviousAllowed:N>0,isNextAllowed:N<i-1,navArrowSize:"small",content:y})},h=e=>{var i,t=l(null),[d,r]=a([]),[u,s]=a(0),m=null===t?3:10,[{data:k,fetching:h}]=c({query:v,variables:{locationId:e,limit:(i=null===t,i?3:10),offset:u}});o(()=>{var e=k&&k.locations?k.locations[0]:null;if(e&&!h){t.current=e.photoCount;var i=(e=>{var{photos:i}=e;return i&&i.filter(e=>e&&e.photoSizes).map(e=>e)})(e),a=(e=>{var{thumbnail:i}=e;return i&&i.photoSizes&&i})(e);i&&r(e=>e.concat(0===e.length&&a?[a]:[],i.filter(e=>!a||e.id!==a.id)))}},[k,h]);var p=n(()=>{!h&&u+m<(t.current||0)&&s(u+m)},[h,u,m]);return{loading:h,photos:d,totalPhotoCount:t.current||0,loadMore:p}};return[()=>{(v=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"PhotoQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"offset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photoCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"thumbnail"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"photos"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"ordering"},"value":{"kind":"EnumValue","value":"BIG_CAROUSEL_MGMT"}},{"kind":"Argument","name":{"kind":"Name","value":"page"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"offset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"offset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":402}}')).__key=0xc6c6ad9d5cad,v.loc.source={body:"c6c6ad9d5cad"},e("default",k),e("usePhotoProvider",h)},[e=>(a=e.useState,n=e.useCallback,t=e.useMemo,d=e.createElement,l=e.useRef,o=e.useEffect),e=>r=e.default,e=>u=e.useGARecorder,e=>s=e.default,e=>m=e.ResponsiveImage,e=>c=e.useQuery]]},["cDcdfi","kp5583","fsml46","PbGVd2","KwOV1Z","5X2em-"]]);
