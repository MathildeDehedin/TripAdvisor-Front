(this.$WP=this.$WP||[]).push(["WWE3W5",(e,t)=>{"use strict";var r,o,s,a,i,c,n,l,p,d,u,b,_,m,v,h,j,f,P,k,w,g,N,E,A,O,y=(e,t,r)=>{var o,s,a,i,n,l,p,d,u,b;if(!c("show_foreign_member_profile")||!e)return(null==r||null==(p=r.route)?void 0:p.url)||"";switch(e){case"Review":return d=void 0!==(null==(o=t.provider)?void 0:o.isLocalProvider)&&null!==(null==(s=t.provider)?void 0:s.isLocalProvider),u=!0===(null==(a=t.provider)?void 0:a.isLocalProvider),b=d&&!u?"https://www.tripadvisor.com":"",(null==r||null==(i=r.route)?void 0:i.url)?`${b}${null==r||null==(n=r.route)?void 0:n.url}`:""}return(null==r||null==(l=r.route)?void 0:l.url)||""},D=({object:e,actor:t,isEmbedded:r,displayDate:s})=>{var c,n,l=_(s?"ui_header_link":"ui_link","_1r_My98y",{verified:!!t&&t.isVerified}),p={0:l,1:y(null==e?void 0:e.__typename,e,t),2:f(A(t)),3:s?w(s):null,4:"Repost"===(null==e?void 0:e.__typename)?null==e||null==(c=e.repostedObject)||null==(n=c.media)?void 0:n.length:null==e?void 0:e.numPhotos},d=t&&t.userId,u=e.repostedObject?e.repostedObject.__typename:e.__typename,m=s&&s.length>0?((e,t)=>{switch(e){case"Review":return a("member_event_on_review_with_date",t);case"RoomTip":return a("member_event_on_tip_with_date",t);case"Photo":return a("member_event_on_photo_with_date",t);case"ApiLocationTopic":return a("member_event_on_question_with_date",t)}return""})(u,p):((e,t,r,o)=>{if(r.repostedObject)switch(e){case"Review":return a("member_event_reposted_review",t);case"Photo":return a("member_event_reposted_photo",t);case"MediaBatch":return a("member_event_reposted_photo_v2",t);case"Video":return a("member_event_reposted_video",t);case"ForumPost":return a("member_event_reposted_forumpost",t);case"LinkPost":return a("member_event_reposted_linkpost",t);case"Trip":return a("member_event_reposted_Trip",t);case"ApiLocationTopic":return`<a class="${t[0]}" href="${t[1]}">${t[2]}</a> asked a question`;case"ApiTopicPosting":return`Answer from <a class="${t[0]}" href="${t[1]}">${t[2]}</a>`}else{var s="Trip"===r.__typename&&r.owner&&r.owner.id,i=o&&o.userId;switch(e){case"Review":return a("member_event_on_review",t);case"RoomTip":return a("member_event_on_tip",t);case"Photo":return a("member_event_on_photo",t);case"MediaBatch":return a("feed_batched_photos_header_v2",t);case"Video":return a("member_event_on_video",t);case"ForumPost":return r.id===r.parentId?a("member_event_on_forumpost_question",t):a("member_event_on_forumpost_reply",t);case"LinkPost":return a("member_event_on_linkpost",t);case"Trip":return a(s===i?"member_event_on_Trip":"trips_feed_trip_joined_v2",t);case"ApiLocationTopic":return a("member_event_on_location_topic",t);case"ApiTopicPosting":return a("member_event_on_topic_posting",t)}}return""})(u,p,e,t),v=g({module:"Reviews",action:"review_username_click",context:null===d?"":d});return o(P,null,e=>{var s;return o("div",{className:"_2fxQ4TOx",onClick:t=>{e(t,"userClick",{userId:d}),v()}},r?o(b,{className:l,href:null==t||null==(s=t.route)?void 0:s.url},A(t)):i(m))})},T=({object:e,actor:t})=>{var r=e.publishedDate||e.createdDate;return o(s,null,o(D,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(P,null,t=>{var s;return o(b,{href:null==e||null==(s=e.route)?void 0:s.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},I=({object:e,actor:t})=>{var r=e.publishedDate||e.createdDate;return o(s,null,o(D,{actor:t,object:Object.assign({},e,{__typename:"Review"}),displayDate:r}),t&&o(E,{profile:t}))},M=({object:e,actor:t})=>{var r=e.publishedDate;return o(s,null,o(D,{actor:t,object:Object.assign({},e,{__typename:"RoomTip"}),displayDate:r}),t&&o(E,{profile:t}))},S=({object:e,actor:t})=>{var r=e.publishedDate||e.createdDate||e.uploadDate||e.created;return o(s,null,o(D,{actor:t,object:e,isEmbedded:!0}),r&&o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(P,null,t=>{var s;return o(b,{href:null==e||null==(s=e.route)?void 0:s.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},L=({object:e,actor:t})=>{var r=e.publishedDate||e.uploadDate;return o(s,null,o(D,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(P,null,t=>o(l,{name:"Photo_"+e.id,href:null,username:e.userProfile?e.userProfile.username:"",className:"ui_link",key:"Photo_"+e.id,onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))))))},C=({object:e,actor:t})=>{var r=e.publishedDate||e.uploadDate;return o(s,null,o(D,{actor:t,object:e,displayDate:r}),t&&o(E,{profile:t}))},R=({object:e,actor:t,isEmbedded:r})=>{var a=e.createdDate;return o(s,null,o(D,{actor:t,object:e,isEmbedded:r}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:a}))))},x=({objectProps:{object:e,actor:t}})=>{var r=e.publishedDate||e.uploadDate;return o(s,null,o(D,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(P,null,e=>o(b,{className:"ui_link",onClick:t=>e(t,"feedClick")},o(k,{dateStr:r}))))))},F=({object:e,actor:t})=>{var r=e.publishedDate;return o(s,null,o(D,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(P,null,t=>{var s;return o(b,{href:null==e||null==(s=e.route)?void 0:s.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},U=({objectProps:{object:e,actor:t}})=>{var r=e.publishedDate;return o(s,null,o(D,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:r}))))},$=({object:e,actor:t})=>{var r=e.created;return o(s,null,o(D,{actor:t,object:e}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:r}))))},Z=({objectProps:{object:e,actor:t}})=>{var r=e.created;if(e.owner&&t&&t.userId===e.owner.id)r=e.firstPublished;else{var a=t&&e.collaborators&&e.collaborators.find(e=>e.user&&e.user.id===t.userId);a&&(r=a.publicallyJoined)}return o(s,null,o(D,{actor:t,object:e,isEmbedded:!(t&&t.userId&&e.owner&&e.owner.id)}),o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(P,null,t=>{var s;return o(b,{href:null==e||null==(s=e.route)?void 0:s.url,className:"ui_link",onClick:e=>t(e,"feedClick")},o(k,{dateStr:r}))}))))},W=({object:e,actor:t})=>{var r=e.timePublished||e.timeSubmitted;return o(s,null,o(D,{actor:t,object:Object.assign({},e,{__typename:"ApiLocationTopic"}),displayDate:new Date(r).toISOString()}),t&&o(E,{profile:t}))},z=({objectProps:{object:e,actor:t},overflowMenuProps:r})=>{var a=e.timePublished||e.timeSubmitted;return o(s,null,o(D,{actor:t,object:Object.assign({},e,{__typename:"ApiTopicPosting"})}),a?o("div",{className:"_287pE6AZ"},o("span",{className:"_1_xw04A-"},o(k,{dateStr:new Date(a).toISOString()})," | ",o(H,r))):null)},H=({parentProps:e,editUgcModalName:t,overrideItems:r})=>o(p,{name:t},t=>o(N,{sectionObject:e.object,sectionObjectForType:e.overflowMenuObjectForType,sectionActor:e.actor,onEdit:t,overrideItems:r,deleteObject:e.deleteObject,untagObject:e.untagObject})),B={isEmbedded:!1,displayDate:""},V={};return[()=>{e("MemberEventOnObjectBlock",O=class extends r{constructor(...e){var t;super(...e),this.editUgcModalName=`ugcEditModal_${this.props.object.__typename}_${t=this.props.object,t.id||t.postId||t.repostId}:${Math.random()}`}render(){var e,t=this.props.object.__typename,r="default",i=!0;if(this.props.isEmbedded)e=o(S,{object:this.props.object,actor:this.props.actor});else switch(this.props.objectEventType){case"onTopicPosting":r="xtra-small",i=!1}var c=this.props.actor&&!this.props.actor.isMe?{FOLLOW:!0,UNTAG:!!v(this.props.object,this.props.loggedInUserId||void 0)}:{FOLLOW:!1,UNTAG:!!v(this.props.object,this.props.loggedInUserId||void 0)},l=null;"Photo"!==t&&"Video"!==t||(l=o(d,null,e=>o(h,{modalName:this.editUgcModalName,mediaObject:this.props.object,onSubmit:()=>{e({node:a("ugc_post_updated")})}}))),"LinkPost"===t&&(l=o(d,null,e=>o(j,{modalName:this.editUgcModalName,linkPost:this.props.object,onSubmit:()=>{e({node:a("ugc_post_updated")})}})));var p={parentProps:this.props,editComponent:l,editUgcModalName:this.editUgcModalName,overrideItems:c};if(this.props.isEmbedded)e=o(S,{object:this.props.object,actor:this.props.actor});else switch(this.props.objectEventType){case"onReview":e=o(T,{object:this.props.object,actor:this.props.actor});break;case"onFullReview":e=o(I,{object:this.props.object,actor:this.props.actor});break;case"onRoomTip":e=o(M,{object:this.props.object,actor:this.props.actor});break;case"onPhoto":e=o(L,{object:this.props.object,actor:this.props.actor});break;case"onFullPhoto":e=o(C,{object:this.props.object,actor:this.props.actor});break;case"onMediaBatch":e=o(R,{object:this.props.object,actor:this.props.actor,isEmbedded:this.props.isEmbedded});break;case"onVideo":e=o(u,null,({route:e})=>o(x,{objectProps:this.props,geoScope:parseInt(e.geo,10)}));break;case"onForumPost":e=o(F,{object:this.props.object,actor:this.props.actor});break;case"onLinkPost":e=o(u,null,({route:e})=>o(U,{objectProps:this.props,geoScope:parseInt(e.geo,10)}));break;case"onRepost":e=o($,{object:this.props.object,actor:this.props.actor});break;case"onTrip":e=o(u,null,({route:e})=>o(Z,{objectProps:this.props,geoScope:parseInt(e.geo,10)}));break;case"onLocationTopic":e=o(W,{object:this.props.object,actor:this.props.actor});break;case"onTopicPosting":e=o(z,{objectProps:this.props,overflowMenuProps:p});break;default:m.error("objectEventRender Error - object is required.")}return o("div",{className:"_310S4sqz"},!this.props.isEmbedded&&this.props.renderAvatar&&o(P,null,e=>{var t;return o(n,{photo:null==(t=this.props.actor)?void 0:t.avatar,display:"inline",target:"_self",href:y("onFullReview"===this.props.objectEventType?"Review":null,this.props.object,this.props.actor),withBorder:!0,onClick:t=>{var r;return e(t,"userClick",{userId:null==(r=this.props.actor)?void 0:r.userId})},size:r})}),o("div",{className:"_2uYWQXeO"},this.props.renderMemberActions?o("div",{className:"_3TMaHs5O"},!this.props.isEmbedded&&o(s,null,l,i&&o(H,Object.assign({},p,{overrideItems:c})))):o("div",{className:"_3TMaHs5O"}),e))}}),O.defaultProps={deleteObject:null,isEmbedded:!1,displayDate:"",renderMemberActions:!0,renderAvatar:!0},D.defaultProps=B,T.defaultProps=B,I.defaultProps=B,M.defaultProps=B,L.defaultProps=B,C.defaultProps=B,R.defaultProps=B,x.defaultProps=B,F.defaultProps=B,U.defaultProps=B,$.defaultProps=B,S.defaultProps=B,Z.defaultProps=B,W.defaultProps=B,z.defaultProps=B,e("default",V),e("MemberEventOnObjectBlock",O)},[e=>(r=e.Component,o=e.createElement,s=e.Fragment),e=>(a=e.localize,i=e.unescaped),e=>c=e.featureIsEnabled,e=>n=e.Avatar,e=>l=e.DeprecatedModalLink,e=>p=e.Opener,e=>d=e.Toaster,e=>(u=e.RouteConsumer,b=e.Link),e=>_=e.default,e=>m=e.default,e=>v=e.DisplayUntagIcon,e=>h=e.EditMediaModal,e=>j=e.EditLinkPostModal,e=>f=e.escapeHtml,e=>P=e.InteractionLogger,e=>(k=e.ContentDisplayDate,w=e.getDisplayDate),e=>g=e.useGARecordCallback,e=>N=e.SectionOverflowMenu,e=>(E=e.MemberHeaderStats,A=e.getDisplayName)]]},["cDcdfi","535agn","-i3PJS","Hgrhyo","HKQFPT","pT-O8u","t1LGYH","N4pTU2","jSLlaY","4LU1Ax","zrL722","Qsot8_","VXzhcp","WkP2XE","pZzSdK","OiNFvE","fsml46","ce1YGz","3fnomI"]]);
