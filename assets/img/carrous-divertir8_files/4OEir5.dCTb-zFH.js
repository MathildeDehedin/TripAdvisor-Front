(this.$WP=this.$WP||[]).push(["4OEir5",(e,i)=>{"use strict";var n,t,a,s,d,o,l,r,m,u,c,v,k,p,g,N,h,b,f,S,_,y,I,T,F,w,C,V,D,P,A,x,q,M,O,j,R,U,L,z,Q,E,W,B,J,G,H,X,Y,Z,$,K,ee,ie,ne,te,ae,se,de,oe={loading:!0,writeUserReviewUrl:"",topicsUrl:"",roomTipsCount:0,questionsCount:0,photosCount:0,reviewsCount:0,hasNoContent:!1,isActiveOwner:!1,hasDraftReview:!1,locationId:0,geoId:0,postPhotosUrl:""},le=e=>"AIRLINE"===e,re=({locationId:e,hasDraftReview:i,placeType:n,children:a})=>{if(!e||e<0)return t(Y,{value:oe},a);var s=le(n)?107:101,o=le(n);return t(d,{query:H,variables:{locationId:e,albumId:s,fetchTips:o},errorPolicy:"all"},({loading:e,data:n})=>{var s;if(!e&&n&&n.locations&&n.locations[0]){var d,o,l,r=n.locations[0],m=r.albums,u=r.topicCount||0,c=m&&m.length?m[0].totalCount:0,v=(null==(d=r.reviewSummary)?void 0:d.rating)>0&&(null==(o=r.reviewSummary)?void 0:o.count)||0;s={loading:e,writeUserReviewUrl:r.writeUserReviewUrl||"",topicsUrl:r.topicsUrl||"",roomTipsCount:r.roomTipsCount||0,questionsCount:u,photosCount:c,reviewsCount:v,hasNoContent:0===u&&0===c&&0===v,isActiveOwner:(null==(l=r.currentUserOwnerStatus)?void 0:l.isValid)||!1,hasDraftReview:i,postPhotosUrl:r.postPhotosUrl||"",locationId:r.locationId,geoId:r.parentGeoId}}else s=oe;return t(Y,{value:s},a)})},me=({locationId:e,geoId:i,writeUserReviewUrl:n,className:a,pid:s,cookieDomain:d,onClick:o,children:r})=>e<=0||i<=0?null:t("a",{href:n||`/UserReview-g${i}-d${e}`,target:"_blank",className:a,onClick:e=>{o&&o(e),s&&s>0&&((e,i)=>{e&&e>0&&l(e,i)})(s,d)}},r),ue=({children:e})=>t(u,{name:"community_qa_question_form"},(i,n)=>t(p,{call:i},i=>e(i,n))),ce=e=>t(v,{name:"community_qa_question_form",header:t(m,{iconName:"forums",displayType:"LEFT_ALIGN_GRAY"},r("hr_ask_a_question"))},t(c,null,i=>t("div",{className:"_2-BVVwMr"},t(Q,Object.assign({},e,{onCancel:i,onSubmit:n=>{i(),e.onSubmit(n)}}))))),ve=({visible:e,openInNewWindow:i})=>t(X,null,({topicsUrl:n,questionsCount:a})=>a>3?t("a",{href:n,className:S("_1sIsielv",{_5_ez5YIR:!e,"_3Vpj9H-s":_("cx_brand_refresh_degreen")}),target:i?"_blank":"_self"},r("qa_see_all_n_questions",{nQuestions:a})):null),ke={text:"",errors:null,submitting:!1,answering:!1},pe=e=>_("google_translate")?t(N,e,e=>t("div",{className:"_309N7-x7"},t(I,{onClick:e,type:"secondary",size:"small"},r("google_translation")))):null,ge={},Ne={},he={},be={};function fe(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!be[i]&&(be[i]=!0,!0)}))}var Se=e=>({locationId:e.page.detailId,geoId:e.page.geoId,loggedInUserId:e.auth.loggedInUserId});return[()=>{(H=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"CommunityContent"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"albumId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"defaultValue":{"kind":"IntValue","value":"101"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"fetchTips"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"writeUserReviewUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"topicsUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"postPhotosUrl"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"parentGeoId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"currentUserOwnerStatus"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isValid"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"roomTipsCount"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"fetchTips"}}}]}]},{"kind":"Field","name":{"kind":"Name","value":"topicCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"albums"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"albumIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"albumId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"totalCount"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"reviewSummary"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"count"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"rating"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":486}}')).__key=3973820897217,H.loc.source={body:"039d3a2ed7c1"},({Consumer:X,Provider:Y}=n(oe)),re.defaultProps={hasDraftReview:!1},me.defaultProps={className:""},Z=o(e=>({cookieDomain:e.meta.cookieDomain}))(me),Q=class extends a{constructor(...e){super(...e),this.state={text:"",errors:null,submitting:!1},this.onChange=e=>this.setState({text:e.currentTarget.value}),this.onSubmitResponse=e=>{this.setState({submitting:!1}),e.ok?this.props.onSubmit(e):e.json().then(e=>{this.resetCaptcha(),this.setState({errors:e.errors})})},this.getPlaceholderText=()=>{switch(this.props.placeType){case null:return"";case"ATTRACTION":return r("qaa_form_placeholder_no_name");case"ACTIVITY":case"TOUR":return r("qaa_form_placeholder_product_no_name");case"EATERY":return r("qa_q_placeholder_restaurant_no_name");default:return r("qa_q_placeholder_lo")}},this.submitQuestion=e=>{if(this.state.text){this.setState({submitting:!0});var{location:{locationId:i}}=this.props,{text:n}=this.state,t=Object.assign({},e,{captchaResponse:this.captchaResponse});k.submitQuestion({locationId:i,text:n,requestValidation:t,onResponse:this.onSubmitResponse})}},this.captchaResponse={},this.resetCaptcha=()=>{}}render(){var{location:{name:e},onCancel:i}=this.props,{text:n,errors:a,submitting:d}=this.state;return t(s,null,t("div",{className:"ui_header h3"},r("qa_get_quick_answers_56a",{0:e})),t(p,{call:({csrfToken:e,altSessId:i})=>this.submitQuestion({csrfToken:e,altSessionId:i})},e=>{var s,o;return t("form",{className:"_1Wg63wJH",onSubmit:i=>{e(),i.preventDefault()}},t(b,{photo:this.props.currentMember?this.props.currentMember.avatar:void 0,display:"inline",target:"_self",href:null==(s=this.props.currentMember)||null==(o=s.route)?void 0:o.url,withBorder:!0,size:"xtra-small"}),t("div",{className:"_1Wcdtadm"},t(f,{value:n,onChange:this.onChange,className:S("_2z7j3MOq",{_1mUVXWza:d,_2bRqMMVj:_("cx_brand_refresh_degreen")}),placeholder:this.getPlaceholderText(),name:"answer",rows:6,disabled:d}),a&&t("ul",{className:"GtJPtoU6"},a.map(e=>t("li",{key:e},e))),r("qa_question_overlay_note_56a"),t("div",{className:"_1-mWwPef"},t(g,{location:this.props.location,theme:"community",inlineExpansion:!0})),t("div",{className:"_232AvTzA"},t(y,null,(e,i)=>{this.resetCaptcha=i,this.captchaResponse=e})),t("div",{className:"_1XCP9nxX"},t("span",{className:"-OpmAyUR"},t(I,{onClick:i=>{e(),i.preventDefault()},type:"primary",size:"default",disabled:d,loading:d},d?t(T,{size:"small"}):null,r("common_Submit"))),t(I,{onClick:e=>{e.preventDefault(),i()},type:"secondary",size:"default",disabled:d},r("btn_cancel")))))}))}},E=class extends a{constructor(...e){super(...e),this.state=Object.assign({},ke),this.onChange=e=>this.setState({text:e.currentTarget.value}),this.onFocus=()=>{A({module:"faq",action:"click",context:"answers_faq_answer_form"}),this.setState({answering:!0})},this.onSubmitResponse=e=>{this.setState({submitting:!1}),e.ok&&this.props.onSubmit?(this.props.onSubmit(e),this.setState(Object.assign({},ke))):e.json().then(e=>{this.resetCaptcha(),this.setState({errors:e.errors})})},this.submitAnswer=e=>{if(this.state.text){this.setState({submitting:!0});var{topic:{locationId:i,id:n}}=this.props,{text:t}=this.state,a=Object.assign({},e,{captchaResponse:this.captchaResponse});k.submitAnswer({locationId:i,topicId:n,text:t,requestValidation:a,onResponse:this.onSubmitResponse})}},this.captchaResponse={},this.resetCaptcha=()=>{}}render(){var{text:e,errors:i,submitting:n}=this.state;return t(p,{call:({csrfToken:e,altSessId:i})=>this.submitAnswer({csrfToken:e,altSessionId:i})},a=>{var s,d;return t("form",{className:"_2mamHENZ",onSubmit:e=>{a(),e.preventDefault()}},t(b,{photo:this.props.currentMember?this.props.currentMember.avatar:void 0,display:"inline",target:"_self",href:null==(s=this.props.currentMember)||null==(d=s.route)?void 0:d.url,withBorder:!0,size:"xtra-small"}),t("div",{className:"_2MtEN6up"},t(f,{value:e,onChange:this.onChange,onFocus:this.onFocus,className:S("_2nK73A9w",{_3k8D7pXv:n,_3L0fjJWj:_("cx_brand_refresh_degreen")}),placeholder:this.props.topic.postCount?r("hr_community_qa_answer_question"):r("hr_community_qa_answer_question_first"),name:"answer",rows:this.state.answering?3:1,disabled:n}),this.state.answering?t("div",{className:"_1ljVw4t-"},t("div",{className:"_1Ni35WJI"},t(g,{location:this.props.location,theme:"community"})),t("div",null,i&&t("ul",{className:"_1VOD4zdD"},i.map(e=>t("li",{key:e},e))),t("div",{className:"_1RipAYLg"},t(y,null,(e,i)=>{this.resetCaptcha=i,this.captchaResponse=e})),t("div",{className:"_1XzZyU2B"},t("span",{className:"_39_DpMmq"},t(I,{onClick:e=>{a(),e.preventDefault()},type:"primary",size:"default",disabled:n,loading:n},n?t(T,{size:"small"}):null,r("common_Submit"))),t(I,{onClick:e=>{e.preventDefault(),n||this.setState(Object.assign({},ke))},type:"secondary",size:"default",disabled:n},r("btn_cancel"))))):null))})}},pe.defaultProps={postingId:void 0},W=class extends a{constructor(...e){super(...e),this.state={numVotes:this.props.numVotes,ajaxMessage:""},this.onVoteResponse=e=>{e.json().then(e=>{void 0!==e.votes&&null!==e.votes?this.setState({numVotes:e.votes,ajaxMessage:e.message}):this.setState({ajaxMessage:e.message})})},this.vote=e=>{var i={altSessionId:this.props.altSessId||"",csrfToken:this.props.securityToken,captchaResponse:{}};e({postingId:this.props.postingId,requestValidation:i,onResponse:this.onVoteResponse})}}render(){var{numVotes:e,ajaxMessage:i}=this.state;return t("form",{className:"_3PBJKBYy"},t(p,{call:()=>this.vote(k.upVote)},e=>t("span",{className:S("_2b63TvFd",{_3mGrqLqA:_("cx_brand_refresh_degreen")}),onClick:e},t(z,{name:"thumbs-up"}))),t(L,null,(n,a)=>t(s,null,t("span",{className:"Dc6lnU5Z",ref:n},r("num_votes_plural",{0:e})),a&&i&&t(U,{target:a,position:"above"},t("div",{className:"_2HWVXzYB"},i),t(R,{event:"click",callback:()=>this.setState({ajaxMessage:""})})))),t(p,{call:()=>this.vote(k.downVote)},e=>t("span",{className:S("_2b63TvFd",{_3mGrqLqA:_("cx_brand_refresh_degreen")}),onClick:e},t(z,{name:"thumbs-down"}))))}},$=o(e=>({isLoggedIn:e.auth.isMember,securityToken:e.auth.csrfToken,altSessId:e.auth.altSessId}))(W),B=class extends a{constructor(...e){super(...e),this.deletePosting=()=>{var{posting:{id:e},csrfToken:i,onAnswerDeleted:n}=this.props;k.deleteAnswer({id:e,token:i,onResponse:n})}}render(){var{posting:e,currentMember:i,locationId:n}=this.props;return t(s,null,t(q,{actor:e.userProfile,member:i,objectEventType:"onTopicPosting",object:e,deleteObject:this.deletePosting}),t("div",{className:"QBbXI9rM"},t(pe,{locationId:n,topicId:e.locationTopicId,postingId:e.id,contentLanguage:e.contentLanguage}),t(P,{contentLanguage:e.contentLanguage},e.content),t($,{postingId:e.id,numVotes:e.upvotes||0})))}},K=o(e=>({csrfToken:e.auth.csrfToken}))(B),(ee=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Comm_PhotoSizes"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"PhotoSize"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isHorizontal"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":88}}')).__key=0xd479b49b07b7,ee.loc.source={body:"d479b49b07b7"},(ie=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Comm_MemberFields"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberProfile"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userId"},"name":{"kind":"Name","value":"id"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isVerified"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isFollowing"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"avatar"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_PhotoSizes"},"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"hometown"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"fallbackString"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"location"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"contributionCounts"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sumAllUgc"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"helpfulVote"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":467}}')).__key=60223007615961,ie.loc.source={body:"36c5c2f9ebd9"},ie.definitions=ie.definitions.concat(ee.definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!ge[i]&&(ge[i]=!0,!0)}))),(ne=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"Comm_PostingFields"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"ApiTopicPosting"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"locationTopicId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"content"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isOwner"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isReviewer"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"upvotes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contentLanguage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timePublished"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timeSubmitted"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"userProfile"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_MemberFields"},"directives":[]}]}}]}}],"loc":{"start":0,"end":273}}')).__key=0xbbc9e38516d3,ne.loc.source={body:"bbc9e38516d3"},ne.definitions=ne.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!Ne[i]&&(Ne[i]=!0,!0)}))}(ie.definitions)),(te=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"QuestionSectionPostingQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"fetchTopic"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"fetchPosting"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"topicId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"postingId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"topics"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"topicIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"topicId"}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"fetchTopic"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"postings"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_PostingFields"},"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"postings"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"postingIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"postingId"}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"fetchPosting"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_PostingFields"},"directives":[]}]}}]}}],"loc":{"start":0,"end":383}}')).__key=68641329635714,te.loc.source={body:"3e6dce11e182"},te.definitions=te.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!he[i]&&(he[i]=!0,!0)}))}(ne.definitions)),(J=class extends a{constructor(...e){super(...e),this.state={expandAnswers:!1,deletedAnswers:new Set},this.onSeeAllClick=e=>{e.preventDefault(),this.state.expandAnswers||A({module:"faq",action:"click",context:"show_all_answers"}),this.setState(e=>({expandAnswers:!e.expandAnswers}))},this.onAnswerDeleted=e=>()=>{this.setState(i=>{var n=new Set(i.deletedAnswers);return n.add(e),{deletedAnswers:n}})},this.deleteTopic=()=>{var{topic:{id:e},csrfToken:i,onQuestionDeleted:n}=this.props;k.deleteQuestion({id:e,token:i,onResponse:n})}}renderToggleLink(e){var{topic:i}=this.props,{expandAnswers:n}=this.state;return e>1?t(x,{href:i.url,onClick:this.onSeeAllClick,className:"_3UW-vHUd"},r(n?"hr_community_qa_show_top_answer":"hr_community_qa_show_all_answers")):null}renderAnswers(){var{location:{locationId:e},currentMember:i,topic:n,topPostingOverride:a}=this.props,{expandAnswers:s,deletedAnswers:d}=this.state;return t(h,{query:te,topic:n,expanded:s,newPostingId:a},a=>{var o=a.filter(e=>!e||!d.has(e.id)),l=o.length;return o.map((a,d)=>t("div",{className:"_25dajjyJ",key:a?a.id:-1*d},a?t(K,{locationId:e,posting:a,currentMember:i,onAnswerDeleted:this.onAnswerDeleted(a.id)}):t(M,{width:"100%",height:"100px"}),d===l-1?this.renderToggleLink(s?l:n.postCount):null))})}render(){var{topic:e,currentMember:i,location:n,onAnswerPosted:a,renderFullTopic:s}=this.props;return t(j,{noPadding:!0},t("div",{className:"_25dajjyJ"},t(q,{actor:e.userProfile,member:i,objectEventType:"onLocationTopic",object:e,deleteObject:this.deleteTopic,renderMemberActions:s}),t(pe,{locationId:n.locationId,topicId:e.id,contentLanguage:e.contentLanguage}),t(x,{href:e.url,className:"_1qcExlNg"},t(P,{contentLanguage:e.contentLanguage},e.content))),this.renderAnswers(),t(O,null,t("div",{className:"_25dajjyJ"},t(E,{topic:e,currentMember:i,location:n,onSubmit:a}))))}}).defaultProps={csrfToken:""},ae=o(e=>({csrfToken:e.auth.csrfToken}))(J),(se=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"QuestionSectionQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"offset"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"loggedIn"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"loggedInUserId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"currentMember"},"name":{"kind":"Name","value":"memberProfile"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"loggedInUserId"}}}]}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"loggedIn"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_MemberFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"geoName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"parentGeoId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"topicCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"placeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"locationTopics"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"page"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"offset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"offset"}}},{"kind":"ObjectField","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mcid"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"content"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"timeSubmitted"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"postCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"contentLanguage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"userProfile"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_MemberFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"topPosting"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"Comm_PostingFields"},"directives":[]}]}}]}}]}}]}}],"loc":{"start":0,"end":781}}')).__key=58457177665086,se.loc.source={body:"352a9f4f2e3e"},se.definitions=se.definitions.concat(fe(ie.definitions)),se.definitions=se.definitions.concat(fe(ne.definitions)),e("QuestionsTabContent$1",G=class extends a{constructor(...e){super(...e),this.state={topPostingOverrides:new Map,deletedTopics:new Set},this.previousTopicCount=0}shouldComponentUpdate(e){return e.isSelectedTab}render(){var{locationId:e,geoId:i,loggedInUserId:n}=this.props,a=(e=>{var{locationId:i,loggedInUserId:n}=e;return{query:se,variables:{offset:0,locationId:i,limit:5,loggedInUserId:n,loggedIn:!!n},skip:!i||i<0,errorPolicy:"all"}})({locationId:e,geoId:i,loggedInUserId:n}),o={locationId:e,limit:5,loggedInUserId:n,loggedIn:!!n};return t(F,null,({offset:i,changePageOffset:n})=>{var l=!e||e<0;return t(d,{query:a.query,variables:Object.assign({},a.variables,{offset:i}),skip:a.skip,errorPolicy:a.errorPolicy},({data:e,loading:a,refetch:d})=>{var r=l||a,{topicCount:m,locationTopics:u,currentMember:c,location:v,placeType:k}=function(e,i){if(e||!(i&&i.locations&&i.locations[0]))return{location:{locationId:-1,name:"",geoName:"",parentGeoId:-1},placeType:null,topicCount:0,locationTopics:[],currentMember:void 0};var{currentMember:n,locations:[{topicCount:t,locationTopics:a=[],locationId:s,name:d,geoName:o,parentGeoId:l,placeType:r}={}]=[]}=i;return{location:{locationId:s,name:d,geoName:o,parentGeoId:l},placeType:r,topicCount:t,locationTopics:a,currentMember:n}}(r,e);r||(this.previousTopicCount=m);var p=()=>{n({offset:0}),d(Object.assign({offset:0},o)).then(()=>V("ar-community-tab").emit("selectTab","Questions",!0))},g=e=>()=>{this.setState(i=>{var n=new Set(i.deletedTopics);return n.add(e),{deletedTopics:n}},d)},N=e=>i=>{i.json().then(i=>this.setState(n=>{var t=new Map(n.topPostingOverrides);return t.set(e,i.postingId),{topPostingOverrides:t}},d))};return r||m?t(s,null,r?t(w,{numSections:5}):u.filter(e=>!this.state.deletedTopics.has(e.id)).map(e=>t(ae,{topic:Object.assign({},e,{location:v}),location:v,key:e.id,currentMember:c,topPostingOverride:this.state.topPostingOverrides.get(e.id),onAnswerPosted:N(e.id),onQuestionDeleted:g(e.id),renderFullTopic:this.props.isSelectedTab})),t(C,{offset:i,limit:5,total:m||this.previousTopicCount,module:"faq",onClick:e=>{n(e);var i=document.querySelector("#REVIEWS");D(i,66)}}),t(ce,{placeType:k,currentMember:c,location:v,onSubmit:p})):t(ce,{placeType:k,currentMember:c,location:v,onSubmit:p})})})}}),de=o(Se)(G),e({CommunityContentConsumer:X,CommunityContentProvider:re,QuestionFormOpener:ue,QuestionsTabContent:de,SeeAllQuestionsLink:ve,WARButton:Z})},[e=>(n=e.createContext,t=e.createElement,a=e.Component,s=e.Fragment),e=>d=e.Query,e=>o=e.connect,e=>l=e.setPIDCookie,e=>r=e.localize,e=>m=e.TitleBar,e=>(u=e.Opener,c=e.Closer),e=>v=e.Modal,e=>(k=e.answersAjax,p=e.AuthGated,g=e.PostingGuidelinesLink,N=e.TranslateModal,h=e.AnswerProvider),e=>b=e.Avatar,e=>f=e.TextArea,e=>S=e.default,e=>_=e.featureIsEnabled,e=>y=e.Captchas,e=>I=e.default,e=>T=e.LoadingBubbles,e=>F=e.PaginationStateController,e=>w=e.FeedLoadingSkeleton,e=>C=e.default,e=>V=e.default,e=>D=e.default,e=>P=e.DirectionalText,e=>A=e.default,e=>x=e.Link,e=>q=e.MemberEventOnObjectBlock,e=>M=e.default,e=>O=e.HideOnReadonly,e=>j=e.default,e=>R=e.default,e=>U=e.default,e=>L=e.Target,e=>z=e.Icon]]},["cDcdfi","MGkW-Q","h74DsO","_wYjwe","535agn","6nM-E7","pT-O8u","HKQFPT","ptEueE","Hgrhyo","9lPTHX","jSLlaY","-i3PJS","MyxN18","PCbs_l","V08PS7","2PwYTj","7LISht","Mqro46","l6BSGt","tnBMzW","miRpRf","Jk5sjx","N4pTU2","WWE3W5","Xi-2HZ","9wfvtu","lQWUxH","Dg5_-9","MHKLZN","z2XL6d","_qQcW3"]]);
