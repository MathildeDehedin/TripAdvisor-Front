(this.$WP=this.$WP||[]).push(["j2bGQY",(e,t)=>{"use strict";var a,_,n,i,l,r,o,g,m,s,c,u,d,p,h,v,E,w,x,b,f,P,O,S,k,R,I,T,G,N,y,j,A=()=>l("me2_control")?64112:l("digital_turbine_max_flow")?63957:l("digital_turbine_high_intent")?63958:l("restaurant_booking_click_ungates_single")?l("any_restaurant_booking_click_ungates")?64358:64359:l("restaurant_booking_click_ungates_all")?l("any_restaurant_booking_click_ungates")?64356:64357:l("ml_hard_gate_model_v1")&&l("t11517_mw_ml_rollout_vairant1_10slices")?64152:l("ml_hard_gate_model_v1")&&l("t11519_mw_ml_rollout_variant1_18slices")?64153:l("ml_hard_gate_model_v1_reevaluate_on_page_view")?64154:l("ml_hard_gate_model_v2")&&l("t11518_mw_ml_rollout_variant5_13slices")?64157:l("ml_hard_gate_model_v2_reevaluate_on_page_view")?64156:l("ml_hard_gate_model_v2_excl_hotels")?64155:l("ml_hard_gate_model_v2")?63960:l("mw_unlock_bookable_restaurants_v1")?64280:l("mw_unlock_bookable_restaurants_v2")?64281:l("mw_unlock_bookable_restaurants_v3")?64282:l("enhanced_gate_google_one_tap_2pv_mw")?63866:63786,V=e=>{var{servlet:t,explicitPreferencesEnabled:n,openExplicitPreferences:i,trackWouldOpenExplicitPreferences:m}=e,[s,c,u,d]=(e=>l("enhanced_gate_google_one_tap_2pv_mw")&&R()?I.includes(e)?[O("mobile_gate_signin_keep_planning"),[O("memx_gating_mw_hotel_values")],null,"/img2/memx/photo-hotels.jpg"]:T.includes(e)?[O("mobile_gate_signin_keep_planning"),[O("memx_gating_mw_attraction_values")],null,"/img2/memx/photo-attractions.jpg"]:G.includes(e)?[O("mobile_gate_signin_keep_planning"),[O("memx_gating_mw_restaurant_values")],null,"/img2/memx/photo-restaurants.jpg"]:[O("mobile_gate_signin_for_best_tripadvisor"),[O("memx_gating_mw_generic_value")],null,"/img2/memx/photo-generic.jpg"]:I.includes(e)?[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_hotel_values")],A(),"/img2/memx/photo-hotels.jpg"]:T.includes(e)?[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_attraction_values")],A(),"/img2/memx/photo-attractions.jpg"]:G.includes(e)?[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_restaurant_values")],A(),"/img2/memx/photo-restaurants.jpg"]:[O("memx_mw_gating_hybrid_title"),[O("memx_gating_mw_generic_value")],A(),"/img2/memx/photo-generic.jpg"])(t),p=_(()=>{(n||l("account_screen_onb_reqlo"))&&m&&m()},[n,m]),h=()=>{window.require(["ta/registration/RegOverlay"],e=>{e.showRegOverlay(null,null,!0,{flow:"CORE_COMBINED",pid:l("enhanced_gate_google_one_tap_2pv_mw")&&R()?40671:40620,userRequestedForce:"true",extraQueryParams:{flowOrigin:"join"},onSuccess:e=>{(e=>{e.hasCreatedMember&&p(),e.hasCreatedMember&&n&&i&&i()})(e)}})})};return r(N,!0),l("enhanced_gate_google_one_tap_2pv_mw")&&R()?a.createElement(S,{name:o,isControl:N,imagePath:d,headline:s,secondary:c,totalViews:g,signInOption:!0,onSignIn:h,explicitPreferencesEnabled:n,openExplicitPreferences:i,trackWouldOpenExplicitPreferences:p}):a.createElement(k,{name:o,isControl:N,imagePath:d,headline:s,secondary:c,totalViews:g,onSignIn:h,mcid:u,downloadButtonFirst:!0,continueWithOrOpen:!0,downloadOption:!0,signInOption:!0})},C=e=>{var t=m(e),a=s(e.meta.initialServletName,t);return c().length>=g-1&&!a},L=e=>{var{mlShouldGate:t,mlScore:_,hasNullInsightProfile:r,servlet:o,pageIdentifier:m}=e,[w,P]=n(!0),O=f(),{open:S,isEnabled:k}=x("PROFILE_ONLY"),{trackWouldOpenExplicitPreferences:R}=b("ONBOARDING","REQLO");return i(()=>{l("search_engine_referrer")&&(E.remove(p),E.remove(h));var e=u(t,_,s(o,m),r,o,O),a=((e,t,a)=>{var _=c().length,n=s(t,a),i=e&&!n?_+1:_;return!n&&i<g&&d(t,a),i})(e,o,m);P(a<g||!e||s(o,m))},[t,_,o,m,r,O]),w?null:a.createElement(v,null,()=>a.createElement(y,{explicitPreferencesEnabled:k,openExplicitPreferences:S,trackWouldOpenExplicitPreferences:R}))};return[()=>{N=l("mw_hard_gate_ghost")||l("ml_hard_gate_no_reqlo"),y=P(e=>({servlet:e.meta.initialServletName}))(V),L.defaultProps={mlShouldGate:!0,hasNullInsightProfile:!1},j=w((e,t)=>(v.stage(e,t),()=>({servlet:e.meta.initialServletName,pageIdentifier:m(e)})))(L),e("default",j),e("pageCountTriggerReached",C)},[e=>(a=e.default,_=e.useCallback,n=e.useState,i=e.useEffect),e=>l=e.featureIsEnabled,e=>(r=e.useHardGateViewRecord,o=e.MODAL_NAME,g=e.PAGE_COUNT_TRIGGER,m=e.findPageIdentifier,s=e.pageHasBeenViewed,c=e.getPagesViewed,u=e.gatingEligibility,d=e.addPageToViewed,p=e.ML_PAGE_VIEWED_KEY,h=e.PREVIOUSLY_VIEWED_PAGES_KEY),e=>v=e.default,e=>E=e.default,e=>w=e.bind,e=>x=e.useExplicitPreferencesModal,e=>b=e.default,e=>f=e.useGARecorder,e=>P=e.connect,e=>O=e.localize,e=>(S=e.EnhancedGoogleOneTapGate,k=e.GateRedesignSignIn),e=>(R=e.isEligibleForOneTap,I=e.HOTEL_SERVLETS,T=e.ATTRACTIONS_SERVLETS,G=e.RESTAURANTS_SERVLETS)]]},["cDcdfi","-i3PJS","wU942v","F2AZ3p","jaCyxS","RiHMo-","R7DQr_","2NwMnm","fsml46","h74DsO","535agn","TSjZhv","MWFqPp"]]);
