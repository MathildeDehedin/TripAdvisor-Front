(this.$WP=this.$WP||[]).push(["_CdybZ",(e,i)=>{"use strict";var n,a,t,l,o,d,s,r,m,c,u,k,v,g,p,f,N,F,b,S,h,_,y,w,I,T,C,P,E,D,A,x,O,M,V,L,R,B,j,W,U,z,q,G,Q,K,H,J,Y,$,Z,X,ee,ie,ne,ae,te,le,oe,de,se,re,me,ce,ue,ke,ve,ge,pe,fe,Ne,Fe,be,Se=({children:e,loggedInUserId:i})=>n(b,{errorPolicy:"all",query:ee,variables:{loggedInUserId:i},skip:!i},({data:i,error:n})=>i&&i.memberProfile?e(i.memberProfile):(n&&h.error("Error fetching users external account type: "+n),null)),he=({member:e})=>n(g,null,i=>{var a;return n(T,{href:null==e||null==(a=e.route)?void 0:a.url,onClick:n=>i(n,"userClick",{userId:e.userId})},n("div",{className:"_25ZLN69N",key:e.displayName},n("div",{className:"_2WFutoVB"},e.coverPhoto&&e.coverPhoto.photoSizes&&e.coverPhoto.photoSizes.length>0&&n(D,{sources:e.coverPhoto.photoSizes,width:"100%",height:"100px"})),n("div",{className:"_3qr0EecK"},n("div",{className:"_23foRGtl"},e.avatar&&e.avatar.photoSizes&&e.avatar.photoSizes.length>1&&n(E,{size:"large",withBorder:!0,photo:e.avatar,onClick:n=>i(n,"userClick",{userId:e.userId})})),n("div",{className:"_2Nir0DlT"},n(P,{profile:e,displayType:"button+icon",size:"small",preventClickPropagation:!0}))),n("div",{className:"_3H-rra2X"},n(_,{profile:e,displayNameClassName:"_3YPYJHET",addProfileLink:!1,singleLine:!0}),n("div",{className:"u7PdijzB"},n(y,{profile:e})),n(I,{className:"_3DnZblfc",truncateLength:80,bio:e.bio,smallText:!0}))))}),_e=!1,ye=e=>{var i=({refetch:e})=>n("div",{className:L("rAqO7LTs","eC8El5W3")},o("onboarding_social_fbfollow_screen_header_error_cant_get_friends"),n("button",{className:"ui_button standard",onClick:i=>{i.preventDefault(),e()}},o("onboarding_social_fbfollow_screen_header_error_try_again"))),a=()=>n("div",{className:"ui_card section"},n(R,null));return e.error?n(i,{refetch:e.refetch}):e.status&&"PENDING"===e.status?(e.refetch(),n(a,null)):e.status&&"FAILED"===e.status?n(i,{refetch:e.refetch}):e.status&&"COMPLETE"===e.status&&0===e.connections.length?n(()=>n("div",{className:"rAqO7LTs"},d(o("social_All_set_no_more_Facebook_connections"))),null):(_e||(M({module:"Social_suggested_fb_members",action:"Social_suggested_fb_members_got_friends",context:e.connections.length.toString()}),_e=!0),n("div",{ref:e.contentRef},e.connections.map(e=>e?n(B,{key:e.userProfile.userId,profile:Object.assign({},e.userProfile,{displayName:e.fullName})}):null),e.loading&&n(a,null)))},we={};function Ie(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!we[i]&&(we[i]=!0,!0)}))}var Te={},Ce=0,Pe={},Ee={},De=e=>n(l,null,e.suggestedFollowees.map(e=>e.userProfile?n(B,{key:e.userProfile.userId,profile:e.userProfile,memberInfo:e.info}):null)),Ae=e=>n(b,{errorPolicy:"all",query:me,variables:{locationId:e.locationId,locale:e.locale,prioritizedTypes:e.prioritizedTypes,limit:e.limit}},({data:i,error:a,loading:t,refetch:l})=>t?n("div",{className:"_3t2Nrn-C"},n(R,null)):a?(h.error(`Error fetching SuggestedTripAdvisorMembersSections data for ${e.userId}: ${a}`),n(j,{refetch:l})):i&&i.recommendedFolloweesSections&&i.recommendedFolloweesSections.sections?1===i.recommendedFolloweesSections.sections.length?e.noShelvesFallback?e.noShelvesFallback:n(p.Provider,{value:{recommendedFolloweesImpressionId:i.recommendedFolloweesSections.impressionId}},n(De,{suggestedFollowees:i.recommendedFolloweesSections.sections[0].items.map(e=>({userProfile:e.object,info:e.suggestedFolloweesInfo}))})):n(p.Provider,{value:{recommendedFolloweesImpressionId:i.recommendedFolloweesSections.impressionId}},n("div",{className:"AxkjjuTe"},i.recommendedFolloweesSections.sections.map(e=>e.items&&e.items.length>2?n($,{key:e.id,suggestedFollowees:e.items,shelfId:e.id,title:e.title,hideShowMore:!0,showBio:!0,forceSimple:!0}):null))):null),xe=({isFacebookConnected:e})=>e?n(l,null,n("div",{className:"_2kBQBejh"},o("facebook_reconnect_header"))):n(l,null,n("div",{className:L("_2kBQBejh","_3tqeQ2YM")},o("have_friends_header")),n("div",{className:"_1V7DfI_z"},o("have_friends_body"))),Oe="Social_suggested_fb_members",Me=e=>{var{type:i,title:a,modalName:t,followeesTypes:l,onClose:d,showFacebookTab:r}=e;return n(s,{name:t,isFullBleed:!0,bodyScroll:!1,onClose:d,header:n(O,{displayType:"LEFT_ALIGN_GRAY"},a)},n("div",{className:"_1iyh5nZY"},(()=>{var e=[],a=o("social_label_Suggested_for_you");if(e.push(n(c,{key:`${i}_tab_${Math.random()}`,isActive:"TripAdvisor"===i,label:n(u,{text:a}),socialLabelText:a},n("div",{className:"_1RKTdNdf"},n(f.Provider,{value:{tabType:"SUGGESTED_FOR_YOU"}},n(ce,{limit:20,prioritizedTypes:l}))))),A("suggested_facebook_connections")&&r){var t=o("common_Facebook_friends");e.push(n(c,{key:`${i}_tab_${Math.random()}`,isActive:"Facebook"===i,label:n(u,{icon:"facebook",text:t}),socialLabelText:t,trackingProps:{module:Oe,action:"facebook_friends_tab_shown"}},n(H,{limit:20},(e,i,a,t,l,o,d)=>n(x,{throttle:50,threshold:550,hasMore:a,loadMore:e,infiniteLoadOnMount:!0},(e,a)=>n("div",{className:"_1RKTdNdf",ref:e},n(f.Provider,{value:{tabType:"FACEBOOK_FRIENDS"}},n(ve,{trackingModule:Oe},n(ye,{connections:i,contentRef:a,loading:l,error:o,refetch:d,status:t}))))))))}return n(m,{flexPanel:!0},e)})()))},Ve=({member:e,memberInfo:i})=>{var a;return n(l,null,n(T,{href:null==e||null==(a=e.route)?void 0:a.url,className:"_92WgPhLb",key:e.displayName},n("div",{className:"_1ZiqVbj4"},n("div",{className:"_2Y7AKis6"},n(E,{photo:e.avatar,withBorder:!0})),n(_,{profile:e,memberInfo:i,displayNameClassName:"AKNmGToO",addProfileLink:!1})),n("div",{className:"_3kDQHPOC"},n(y,{profile:e})),n(I,{className:"_2IvNmN_R",truncateLength:100,bio:e.bio,smallText:!0}),i&&i.infoWithMember&&n(w,{className:"_2IjI6TiJ",type:i.suggestedFolloweeType,reason:i.infoWithMember.reason,singleLine:!0})),n(P,{size:"fullwidth small",profile:e,displayType:"button+icon",preventClickPropagation:!0}))},Le=({suggestedFollowees:e})=>n(l,null,n("div",{className:"ui_header h3"},o("social_home_right_rail_follow_title")),n("div",{className:"_1amN62L8"},e.map(e=>n(ge,{key:e.userProfile.userId,member:e.userProfile,memberInfo:e.info})))),Re={},Be=e=>n(Q,{errorPolicy:"all",query:pe,variables:{locationId:e.locationId,limit:e.limit,locale:e.locale,types:e.types,placement:e.placement},onError:e.onError},({data:i,loading:a,error:t})=>{if(t&&h.error(t),i&&i.recommendedFollowees&&i.recommendedFollowees.suggestedFollowees){var l,o=i.recommendedFollowees.suggestedFollowees.filter(e=>null!=e&&null!=e.userProfile);return 1===e.locationId&&A("adsol_home_hero_test")&&(A("adsol_home_hero_viking_austria")&&i.sponsoredProfileViking&&(l=i.sponsoredProfileViking),l&&(o=((e,i,n)=>{var a=i&&i.userProfile&&i.userProfile.isFollowing;if(!e||!i||a)return e;var t=e.filter(e=>null!=e&&e.userProfile&&i.userProfile&&e.userProfile.userId!==i.userProfile.userId);for(t.unshift(i);t.length>n;)t.pop();return t})(o,{userProfile:l},e.limit))),n(p.Provider,{value:{recommendedFolloweesImpressionId:i.recommendedFollowees.impressionId}},e.children(o))}return a?e.useLoadingSkeleton?n(G,null):null:e.children([])}),je=({limit:e,placement:i,onError:a,useLoadingSkeleton:t})=>n(q,{className:"_2AHRMYTQ"},n(z,null,n(F.Provider,{value:{placement:"SUGGESTED_FOLLOWEES_RIGHT_RAIL"}},n(fe,{limit:e,placement:i,onError:a,useLoadingSkeleton:t},e=>n(Le,{suggestedFollowees:e}))),n(F.Provider,{value:{placement:"SUGGESTED_FOLLOWEES_MODAL"}},n(ie,null,e=>n(l,null,n(C,null,({route:i})=>{var{page:a,username:t}=i;return n(Ne,{username:"Profile"===a?t:e.username,placement:"SHOW_MORE_FROM_RIGHT_RAIL"})})))))),We={};function Ue(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!We[i]&&(We[i]=!0,!0)}))}var ze=e=>n(b,{errorPolicy:"all",query:Fe,variables:{userId:e.userId,locationId:e.locationId,limit:e.limit,locale:e.locale}},({data:i,error:a,loading:t})=>(a&&h.error(a),i&&i.suggestedFollowees?e.children(i):t?n(G,null):null)),qe=0,Ge=0;return[()=>{(ee=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ExternallyConnectedAccountTypesQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"loggedInUserId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"memberProfile"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"loggedInUserId"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"externallyConnectedAccountTypes"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":184}}')).__key=0x7a4efc14bb0e,ee.loc.source={body:"7a4efc14bb0e"},ie=S(e=>({loggedInUserId:e.auth.loggedInUserId}))(Se),ne=a(he),(K=class extends t{shouldComponentUpdate(e){return e.member.isFollowing!==this.props.member.isFollowing}render(){var{member:e,suggestedFolloweesInfo:i,showBio:a,overlay:t}=this.props,o=A("onboarding_suggested_follows_by_interest")&&"onboarding-interstitial"===t,d=()=>{var t;return n("div",{className:"w8iB26kb",key:e.displayName},n("div",null,n("div",{className:"_11zoqY1M"},n(E,{photo:e.avatar,size:"large",withBorder:!0})),n("div",{className:"_2qwMsoSm"},n(_,{profile:e,memberInfo:i,displayNameClassName:"_1JPk2mCA",usernameClassName:"W0gcS7-u",addProfileLink:!1,singleLine:!0})),a&&n(I,{className:"_1_w8KXsx",truncateLength:60,bio:e.bio,smallText:!0}),(null==i||null==(t=i.infoWithMember)?void 0:t.reason)&&n(w,{className:"_2ftSE5no",type:i.suggestedFolloweeType,reason:i.infoWithMember.reason,singleLine:!0,lightText:!0})),n("div",{className:"_3qKMFoP2"},n(P,{profile:e,displayType:"button+icon",size:"fullwidth small",preventClickPropagation:!0,disableToast:o})))};return n(g,null,i=>{var a;return n(l,null,o?n(d,null):n(T,{href:null==e||null==(a=e.route)?void 0:a.url,onClick:n=>i(n,"userClick",{userId:e.userId})},n(d,null)))})}}).defaultProps={showBio:!1},ae=S(e=>({overlay:e.overlays.global}))(K),(te=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ContributionCount"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberProfile"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"contributionCounts"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sumAllUgc"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sumReview"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sumMedia"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"repost"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"forumPost"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"linkPost"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photo"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"video"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trip"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"helpfulVote"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":207}}')).__key=0x9872c7bb9dde,te.loc.source={body:"9872c7bb9dde"},(le=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ProfileBasicFields"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberProfile"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userId"},"name":{"kind":"Name","value":"id"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isVerified"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isFollowing"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"externallyConnectedAccountTypes"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":171}}')).__key=0xcb2b7b2c1828,le.loc.source={body:"cb2b7b2c1828"},(oe=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"HometownFields"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberLocation"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"fallbackString"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"location"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"additionalNames"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"long"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"parent"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":211}}')).__key=0xfd2483571b40,oe.loc.source={body:"fd2483571b40"},(de=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MemberForProfile"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberProfile"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"ProfileBasicFields"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"avatar"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"hometown"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"HometownFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"followerCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"followeeCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"website"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"encode"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"bio"},"arguments":[],"directives":[]},{"kind":"Field","alias":{"kind":"Name","value":"memberCreated"},"name":{"kind":"Name","value":"created"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"FragmentSpread","name":{"kind":"Name","value":"ContributionCount"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"coverPhoto"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"memberType"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"isBrand"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isDestinationExpert"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isDestinationMarketer"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isInfluencer"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isTAStaff"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"expertForums"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"generalForumIds"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"geoForumLocationIds"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"forums"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"forumId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"locationId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":810}}')).__key=0x92d843c71ec3,de.loc.source={body:"92d843c71ec3"},de.definitions=de.definitions.concat(Ie(te.definitions)),de.definitions=de.definitions.concat(Ie(le.definitions)),de.definitions=de.definitions.concat(Ie(oe.definitions)),(se=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"RecommendedExternalConnections"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"connectionType"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"SocialConnectionTypeInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"offset"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"recommendedExternalConnectionsToFollow"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"connectionType"},"value":{"kind":"Variable","name":{"kind":"Name","value":"connectionType"}}},{"kind":"Argument","name":{"kind":"Name","value":"offset"},"value":{"kind":"Variable","name":{"kind":"Name","value":"offset"}}},{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"connections"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"fullName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"userProfile"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MemberForProfile"},"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasMore"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":417}}')).__key=5132505007422,se.loc.source={body:"04ab0123453e"},se.definitions=se.definitions.concat(de.definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!Te[i]&&(Te[i]=!0,!0)}))),(H=class extends t{render(){return n(b,{errorPolicy:"all",notifyOnNetworkStatusChange:!0,query:se,variables:{connectionType:this.props.connectionType,offset:this.props.offset,limit:this.props.limit}},({data:e,error:i,loading:n,refetch:a,fetchMore:t})=>this.props.children(()=>t({variables:{offset:e.recommendedExternalConnectionsToFollow.connections.length},updateQuery:(e,{fetchMoreResult:i})=>i&&e.recommendedExternalConnectionsToFollow.hasMore?Object.assign({},e,{recommendedExternalConnectionsToFollow:{connections:[...e.recommendedExternalConnectionsToFollow.connections,...i.recommendedExternalConnectionsToFollow.connections],hasMore:i.recommendedExternalConnectionsToFollow.hasMore,__typename:e.recommendedExternalConnectionsToFollow.__typename}}):e}),e&&e.recommendedExternalConnectionsToFollow?e.recommendedExternalConnectionsToFollow.connections:[],!(!e||!e.recommendedExternalConnectionsToFollow)&&e.recommendedExternalConnectionsToFollow.hasMore,e&&e.recommendedExternalConnectionsToFollow&&e.recommendedExternalConnectionsToFollow.status,n,i,()=>{Ce<3&&(Ce++,setTimeout(()=>{a().then(()=>this.forceUpdate())},1e3)),Ce=0}))}}).defaultProps={connectionType:"FACEBOOK",offset:0,limit:20},(re=JSON.parse('{"kind":"Document","definitions":[{"kind":"FragmentDefinition","name":{"kind":"Name","value":"MemberFields"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberProfile"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userId"},"name":{"kind":"Name","value":"id"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isMe"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isVerified"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isFollowing"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"followerCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"followeeCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"bio"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hometown"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"HometownFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"contributionCounts"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sumAllUgc"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"coverPhoto"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"avatar"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":496}}')).__key=0x670eff4d8fc7,re.loc.source={body:"670eff4d8fc7"},re.definitions=re.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!Pe[i]&&(Pe[i]=!0,!0)}))}(oe.definitions)),(me=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"RecommendedFolloweesSections"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locale"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"prioritizedTypes"}},"type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"SuggestedFolloweesTypeInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"recommendedFolloweesSections"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"location"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"Argument","name":{"kind":"Name","value":"locale"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locale"}}},{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}},{"kind":"Argument","name":{"kind":"Name","value":"prioritizedTypes"},"value":{"kind":"Variable","name":{"kind":"Name","value":"prioritizedTypes"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"impressionId"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"socialProofStatus"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sections"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"items"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"object"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MemberFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"suggestedFolloweesInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"preferredDisplayname"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"suggestedFolloweeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"infoWithMember"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reason"},"arguments":[],"directives":[]}]}}]}}]}}]}}]}}]}}],"loc":{"start":0,"end":668}}')).__key=0xc222f97acd2b,me.loc.source={body:"c222f97acd2b"},me.definitions=me.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!Ee[i]&&(Ee[i]=!0,!0)}))}(re.definitions)),Ae.defaultProps={prioritizedTypes:[],limit:20,noShelvesFallback:void 0},ce=S((e,i)=>({userId:e.auth.loggedInUserId,locationId:i.locationId||e.page.geoId||null,locale:e.i18n.locale}))(Ae),(J=class extends t{constructor(...e){super(...e),this.onClick=e=>{this.connectToFB(),this.props.onClick&&this.props.onClick(e)},this.connectToFB=()=>{window.require(["trjs!ta/registration/FB"],e=>{e.showLogin((e,i)=>{window.require(["ta/registration/RegOverlay"],n=>{var a="MOBILE"===this.props.viewportCategory;n.showRegOverlay(null,null,a,{flow:"FACEBOOK_CONNECT",pid:40466,userRequestedForce:"true",extraQueryParams:{token:e.accessToken,expires:i,social:"true"},onClose:()=>{this.props.onClose&&this.props.onClose()}})})},()=>{this.props.onFbAuthFailure&&this.props.onFbAuthFailure()})})}}componentDidMount(){window.require(["trjs!ta/registration/FB"],()=>{})}render(){return n(l,null,n("div",{id:"fb_context_data",className:"hidden","data-ta-server-time":this.props.taServerTime,"data-app-id":this.props.facebookConnectAppId,"data-skip-session-check":this.props.skipFacebookSessionCheck,"data-api-version":this.props.apiVersion,"data-facebook-permissions":this.props.facebookPermissions}),n("div",{id:"fb_sdk_url","data-url":this.props.sdkUrl}),n("div",{className:"P6CPAL3-"},n("button",{className:L("ui_button",{fullwidth:this.props.fullwidth},"_2xVP4e-t"),onClick:this.onClick},n(U,{className:"_324uRxso",name:"facebook"}),n("span",null,o("reg_continue_w_face")))))}}).defaultProps={onClose:void 0,onClick:void 0,onFbAuthFailure:void 0,fullwidth:!1},ue=S((e,i)=>Object.assign({taServerTime:e.auth.fbApi.taServerTime,facebookConnectAppId:e.auth.fbApi.facebookConnectAppId,skipFacebookSessionCheck:e.auth.fbApi.skipFacebookSessionCheck,apiVersion:e.auth.fbApi.apiVersion,sdkUrl:e.auth.fbApi.sdkUrl,facebookPermissions:e.auth.fbApi.facebookPermissions,viewportCategory:e.meta.device.viewportCategory},i))(J),(ke=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ValidFacebookTokenQuery"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"recommendedExternalConnectionsToFollow"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"connectionType"},"value":{"kind":"EnumValue","value":"FACEBOOK"}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"additionalInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hasFacebookToken"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"myExternallyConnectedAccountTypes"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":201}}')).__key=0x8d46339c0906,ke.loc.source={body:"8d46339c0906"},e("ValidatedFacebookToken$1",Y=class extends t{constructor(...e){super(...e),this.refetched=!1,this.timesRefetched=0,this.trackedSet=new Set,this.track=e=>{this.trackedSet.has(e)||(this.trackedSet.add(e),M({module:this.props.trackingModule,action:e,context:""}))}}render(){var e=()=>this.props.isOnboarding?n(V,{className:"gq0CLmQ4",click:{module:this.props.trackingModule,action:"Facebooktokenmissingtryagainlater_continue_click",context:""},visible:{module:this.props.trackingModule,action:"Facebooktokenmissingtryagainlater_shown",context:""}},n(W,{type:"primary",onClick:this.props.callback,size:this.props.isMobile?"fullwidth":"default"},o("button_continue"))):null,i=()=>n("div",{className:L("LIWjWEdh",{"pCZO5R-s":this.props.isOnboarding})},n("div",{className:L("_2kBQBejh","_3tqeQ2YM")},o("social_loading_error_1")),n("div",{className:L("_1V7DfI_z","_3h11S9Re")},o("facebook_reconnect_error_v2")),n(e,null)),a=()=>this.props.isOnboarding?n(V,{click:{module:this.props.trackingModule,action:"Facebooktokenmissingconnect_skip_click",context:""},visible:{module:this.props.trackingModule,action:"Facebooktokenmissingconnect_shown",context:""}},n("div",{className:"_2m8fWuhh",onClick:this.props.callback},o("onboarding_social_skip_link"))):null,t=({isFacebookConnected:e,refetch:i})=>n("div",{className:L("LIWjWEdh",{"pCZO5R-s":this.props.isOnboarding})},n(xe,{isFacebookConnected:e}),n(ue,{onClose:()=>{this.track("Facebooktokenmissingconnect_continuewithfacebook_click"),this.refetched=!0,this.timesRefetched=0,i().then(()=>this.forceUpdate())},fullwidth:!1}),n(a,null)),l=()=>n("div",{className:L("LIWjWEdh","_1NsL1PpH")},n(R,null));return A("disable_fb_token_validation")?this.props.children:n(b,{query:ke,fetchPolicy:"network-only"},({loading:e,data:a,refetch:o})=>{if(e)return n(l,null);if(!a)return this.track("Facebooktokenmissingconnect_fail"),n(i,null);var d=a&&a.myExternallyConnectedAccountTypes&&a.myExternallyConnectedAccountTypes.includes("FACEBOOK");if(!d&&this.props.isOnboarding&&this.props.callback)return this.props.callback(),null;var s=a.recommendedExternalConnectionsToFollow&&a.recommendedExternalConnectionsToFollow.additionalInfo&&a.recommendedExternalConnectionsToFollow.additionalInfo.hasFacebookToken;if(d){if(!s&&this.timesRefetched<4)return this.timesRefetched++,setTimeout(()=>{o().then(()=>this.forceUpdate())},1e3),n(l,null);if(s)return this.refetched&&this.track("Facebooktokenmissingconnect_complete_success"),this.props.children;if(this.refetched)return this.track("Facebooktokenmissingconnect_fail"),n(i,null)}return n(t,{isFacebookConnected:d,refetch:o})})}}),Y.defaultProps={callback:void 0,isOnboarding:!1},ve=S(e=>({isMobile:"MOBILE"===e.meta.device.viewportCategory}))(Y),Me.defaultProps={title:o("Follow_modal_update_1217"),followeesTypes:void 0,placement:void 0,onClose:()=>{},showFacebookTab:!0},e("FollowShelf",$=class extends t{constructor(e){super(e),this.state={hasTrackedScroll:!1}}render(){var{isSingleObject:e,suggestedFollowees:i,title:a,shelfId:t,hideShowMore:d,showBio:s,forceSimple:m,clusterId:c}=this.props,u=i&&i.length&&i[0].suggestedFolloweesInfo?i[0].suggestedFolloweesInfo.suggestedFolloweeType:null,p=["FEATURED","GREAT_CONTENT_PARTNERS","NEW_PARTNERS"],f=p.includes(u)&&!m?"is-6-widescreen":"is-4-widescreen";return n("div",{className:c?"_1vgGusTw":e?"_3jQW4ID_ ui_card":"_2eaBtbY4"},n(g,null,g=>n(k.Consumer,null,k=>n(l,null,n("div",{className:"ui_header _3gsisQW9"},n("div",{className:e&&!c?"_9zvvxeDi":"_3haw4YS7"},a||o("social_home_right_rail_follow_title")),d?null:n(ie,null,e=>n(l,null,n(r,{name:"FollowShelfSeeMore-"+t,username:e.username,href:null,className:"_1e_WQ7Oa",onClick:e=>g(e,"seeAll")},n("span",{className:"ui_link"},o("followee_shelf_see_more"))),n(Me,{type:u&&"FACEBOOK_FRIENDS"===u?"Facebook":"TripAdvisor",modalName:"FollowShelfSeeMore-"+t,followeesTypes:u&&"FACEBOOK_FRIENDS"!==u?[u]:void 0,placement:"SHOW_MORE_FROM_SHELVES"})))),n(v,{top:!1,bottom:!1,threshold:100,minDistance:50,snapToEdge:{left:0,top:0,bottom:0,right:100},shift:{right:{top:-18},left:{top:-18}},focus:e?void 0:{left:-12,top:0},className:"_28PP7evX ui_columns",isActive:!k||k.isActive,onScroll:this.state.hasTrackedScroll?void 0:e=>{this.setState({hasTrackedScroll:!0}),g(e,"shelfScroll")}},a=>i.map(i=>n("div",{key:i.object.userId,ref:a(i.object.userId),className:e?"ui_column is-4 is-6-desktop "+f:"ui_column is-4 is-4-desktop "+f},n(N.Provider,{value:{itemId:i.object.userId}},n("div",{className:"ui_card"},!m&&i.suggestedFolloweesInfo&&p.includes(i.suggestedFolloweesInfo.suggestedFolloweeType)?n(ne,{member:i.object}):n(ae,{member:i.object,suggestedFolloweesInfo:i.suggestedFolloweesInfo,showBio:s}))))))))))}}),$.defaultProps={isSingleObject:!1,title:void 0,hideShowMore:!1,showBio:!1,forceSimple:!1,clusterId:void 0},Ve.defaultProps={memberInfo:void 0},ge=a(Ve),(pe=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"RecommendedFollowees"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locale"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"types"}},"type":{"kind":"ListType","type":{"kind":"NamedType","name":{"kind":"Name","value":"SuggestedFolloweesTypeInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"placement"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"SuggestedFolloweesPlacementInput"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"recommendedFollowees"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}},{"kind":"Argument","name":{"kind":"Name","value":"location"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"Argument","name":{"kind":"Name","value":"locale"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locale"}}},{"kind":"Argument","name":{"kind":"Name","value":"types"},"value":{"kind":"Variable","name":{"kind":"Name","value":"types"}}},{"kind":"Argument","name":{"kind":"Name","value":"placement"},"value":{"kind":"Variable","name":{"kind":"Name","value":"placement"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"suggestedFollowees"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"userProfile"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MemberFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"info"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"preferredDisplayname"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"suggestedFolloweeType"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"infoWithMember"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"reason"},"arguments":[],"directives":[]}]}}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"impressionId"},"arguments":[],"directives":[]}]}},{"kind":"Field","alias":{"kind":"Name","value":"sponsoredProfileViking"},"name":{"kind":"Name","value":"memberProfile"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"StringValue","value":"37639BD7412D701BCCAF0FE5919674B0","block":false}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MemberFields"},"directives":[]}]}}]}}],"loc":{"start":0,"end":743}}')).__key=0xc6e4413ea28e,pe.loc.source={body:"c6e4413ea28e"},pe.definitions=pe.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!Re[i]&&(Re[i]=!0,!0)}))}(re.definitions)),Be.defaultProps={types:["FEATURED","FOLLOWERS","FRIENDS_OF_FRIENDS","GEO"],placement:"ONBOARDING",onError:void 0,limit:3,useLoadingSkeleton:!0},fe=S((e,i)=>({locationId:i.locationId||e.page.geoId||null,locale:e.i18n.locale}))(Be),e("SuggestedMembersModalCombined$1",Z=class extends t{constructor(e){super(e),this.state={currentFlow:0}}render(){var{username:e,placement:i,seeMoreLink:a,loggedInUserId:t}=this.props,d=a?"_2m-jNv0T":"",s=()=>{switch(this.state.currentFlow){case 1:return o("Follow_modal_update_home_1217");default:return o("Follow_modal_update_1217")}},m=(i,n,a)=>{var t={name:i,href:null,onClick:e=>{this.setState({currentFlow:0}),a&&a(e,"rightRailSeeMoreClick")}};return e&&(t.username=e),n&&(t.className=n),t};return n(l,null,n(g,null,e=>n(r,m("suggested_members",d,e),a&&n("span",{className:"ui_link"},o("followee_shelf_see_more")))),n(Me,{title:s(),type:"TripAdvisor",modalName:"suggested_members",placement:i,showFacebookTab:null!==t}),n(r,m("suggested_facebook_connections")),n(Me,{title:s(),type:"Facebook",modalName:"suggested_facebook_connections",placement:i}))}}),Z.defaultProps={placement:void 0,username:null,seeMoreLink:!0},Ne=S(e=>({loggedInUserId:e.auth.loggedInUserId,readOnly:e.meta.readonlyMode,viewportCategory:e.meta.device.viewportCategory}))(Z),je.defaultProps={limit:3,placement:void 0,onError:void 0,useLoadingSkeleton:!0},(Fe=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"SuggestedFollowees"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"limit"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locale"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"suggestedFollowees"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}},{"kind":"Argument","name":{"kind":"Name","value":"limit"},"value":{"kind":"Variable","name":{"kind":"Name","value":"limit"}}},{"kind":"Argument","name":{"kind":"Name","value":"location"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}},{"kind":"Argument","name":{"kind":"Name","value":"locale"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locale"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"MemberFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"memberProfiles"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userIds"},"value":{"kind":"ListValue","values":[{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}}]}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userId"},"name":{"kind":"Name","value":"id"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"externallyConnectedAccountTypes"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"SuggestedFolloweesMemberFields"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MemberProfile"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userId"},"name":{"kind":"Name","value":"id"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isVerified"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"isFollowing"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"followerCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"followeeCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"username"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"bio"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hometown"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"HometownFields"},"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"contributionCounts"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sumAllUgc"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"coverPhoto"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"avatar"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photoSizes"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"height"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"width"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}},{"kind":"Field","name":{"kind":"Name","value":"route"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":907}}')).__key=0xbaaf33f0763a,Fe.loc.source={body:"baaf33f0763a"},Fe.definitions=Fe.definitions.concat(Ue(oe.definitions)),Fe.definitions=Fe.definitions.concat(Ue(re.definitions)),ze.defaultProps={limit:5,locationId:void 0},be=S((e,i)=>({userId:e.auth.loggedInUserId,locationId:i.locationId||e.page.geoId||null,locale:e.i18n.locale}))(ze),e("RecommendedExternalConnectionsDataProvider",X=class extends t{render(){var e=({refetch:e})=>n("div",{className:"_2URWjiOS"},o("onboarding_social_fbfollow_screen_header_error_cant_get_friends"),n("div",null,n("button",{className:"ui_button standard",onClick:i=>{i.preventDefault(),e().then(()=>this.forceUpdate())}},o("onboarding_social_fbfollow_screen_header_error_try_again"))));return n(b,{errorPolicy:"all",query:se,variables:{connectionType:"FACEBOOK",limit:this.props.limit,offset:this.props.offset}},({data:i,error:a,loading:t,refetch:l})=>{if(t)return n(G,null);if(a)return n(e,{refetch:l});if(i&&i.recommendedExternalConnectionsToFollow){if("PENDING"===i.recommendedExternalConnectionsToFollow.status)return qe<3?(qe++,Ge++,setTimeout(()=>{l().then(()=>this.forceUpdate())},1e3),n(G,null)):(qe=0,M({module:"external_connections_data_provider",action:"pending_timeout",context:Ge.toString()}),n(e,{refetch:l}));if("FAILED"===i.recommendedExternalConnectionsToFollow.status)return M({module:"external_connections_data_provider",action:"query_error",context:Ge.toString()}),n(e,{refetch:l});if(i.recommendedExternalConnectionsToFollow.connections)return this.props.children(i.recommendedExternalConnectionsToFollow.connections)}return null})}}),X.defaultProps={limit:5,offset:0},e({ExternalAccountTypeDataProvider:ie,FollowBlock:Le,FollowSection:je,FollowShelf:$,FolloweeDataProvider:be,RecommendedExternalConnectionsDataProvider:X,RecommendedFolloweeDataProvider:fe,SuggestedMembersModal:Me,SuggestedMembersModalCombined:Ne,SuggestedTripAdvisorMembersSections:ce,ValidatedFacebookToken:ve})},[e=>(n=e.createElement,a=e.memo,t=e.Component,l=e.Fragment),e=>(o=e.localize,d=e.unescaped),e=>(s=e.DeprecatedRoutedModal,r=e.DeprecatedModalLink),e=>(m=e.SocialTabs,c=e.SocialTab,u=e.SocialLabel,k=e.TabActiveContext),e=>v=e.ScrollAffordance,e=>(g=e.InteractionLogger,p=e.RecommendedFolloweesImpressionIdContext,f=e.FollowTabTypeContext,N=e.ItemIdContext,F=e.FollowPlacementContext),e=>b=e.Query,e=>S=e.connect,e=>h=e.default,e=>(_=e.MemberName,y=e.MemberStatsBasic,w=e.MemberReasonWhy),e=>I=e.MemberBio,e=>(T=e.Link,C=e.RouteConsumer),e=>P=e.default,e=>E=e.Avatar,e=>D=e.ResponsiveImage,e=>A=e.featureIsEnabled,e=>x=e.InfiniteLoader,e=>O=e.TitleBar,e=>(M=e.default,V=e.Track),e=>L=e.default,e=>R=e.LoadingSpinner,e=>B=e.ProfileCardResponsive,e=>j=e.LoadingErrorMessage,e=>W=e.default,e=>U=e.Icon,e=>z=e.ErrorBoundary,e=>q=e.SocialSection,e=>G=e.SuggestedFolloweesLoadingSkeleton,e=>Q=e.default]]},["cDcdfi","535agn","HKQFPT","jCCr_L","REpc0H","pZzSdK","MGkW-Q","h74DsO","4LU1Ax","_RYn2L","3fnomI","N4pTU2","eKupCR","Hgrhyo","KwOV1Z","-i3PJS","gssTFp","6nM-E7","Jk5sjx","jSLlaY","V08PS7","DdpWwm","AjUfyu","PCbs_l","_qQcW3","nIW_Rw","7YQBl2","7LISht","G0JCM4"]]);
