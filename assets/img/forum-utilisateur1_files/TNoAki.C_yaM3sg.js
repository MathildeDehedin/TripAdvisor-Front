(this.$WP=this.$WP||[]).push(["TNoAki",(e,n)=>{"use strict";var i,t,a,r,d,l,s,o,u,m,v,c={suppressedContent:[]},k=e=>o.getFrom(e),p={suppressContent:(e,n)=>o.action({type:"SUPPRESS_CONTENT",contentType:e,id:n})},N=e=>t(d,{mutation:u,awaitRefetchQueries:!0,errorPolicy:"all",refetchQueries:({error:n,data:i})=>n||null===(null==i?void 0:i.removeContent)||!e.loggedInUserId?[]:[{query:m,variables:{userId:e.loggedInUserId}}]},n=>t(s,Object.assign({},e,{removeContentApiCall:(i,t)=>n({variables:{contentType:i,id:t,userId:e.loggedInUserId}})})));return[()=>{(o=new i("suppressed-content-state",c)).setReducer((e,n)=>{switch(n.type){case"SUPPRESS_CONTENT":return{suppressedContent:[...e.suppressedContent,[n.contentType,n.id]]};default:return e}}),(u=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"RemoveContent"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"contentType"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"ContentTypeInput"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"id"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"removeContent"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"type"},"value":{"kind":"Variable","name":{"kind":"Name","value":"contentType"}}},{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"id"}}},{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}}],"directives":[]}]}}],"loc":{"start":0,"end":162}}')).__key=79662797665114,u.loc.source={body:"4873f0c1b35a"},(m=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ContributionCountQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"userId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"memberProfile"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"userId"},"value":{"kind":"ObjectValue","fields":[{"kind":"ObjectField","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"userId"}}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"userId"},"name":{"kind":"Name","value":"id"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"static"},"arguments":[]}]},{"kind":"Field","name":{"kind":"Name","value":"contributionCounts"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"sumAllUgc"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sumReview"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sumMedia"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"repost"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"forumPost"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"linkPost"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"photo"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"video"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"trip"},"arguments":[],"directives":[]}]}}]}}]}}],"loc":{"start":0,"end":286}}')).__key=0x6df6a73f4756,m.loc.source={body:"6df6a73f4756"},s=class extends a{constructor(...e){super(...e),this.deleteObject=(e,n)=>{var{removeContentApiCall:i,suppressContent:t,loggedInUserId:a}=this.props,r=(e=>{var n=e.match(/[A-Z]+[^A-Z]+/g);if(!Array.isArray(n))return null;var i=n.map(e=>e.replace(/[^a-zA-Z]/,"")),t=i.reduce((e,n)=>e+n.length,0);return e.length!==t?null:i.join("_").toUpperCase()})(e);if(!r)throw new Error(`Attempted to remove content ${e}:${n} but it does not have a corresponding service call`);if(!a)throw new Error(`Attempted to remove content type ${e}:${n} but the user is not logged in`);i(r,n).then(i=>{var a;if(!i||i.errors||null==(null==(a=i.data)?void 0:a.removeContent))throw new Error("A service occurred while attempting to remove content: "+(i&&i.errors||""));t(e,n)}).catch(e=>l.error("Content removal failed. Reason: "+e))}}render(){return this.props.children(this.deleteObject)}},v=r((e,n)=>({loggedInUserId:e.auth.loggedInUserId}),{suppressContent:p.suppressContent})(N),e({DeleteAction:v,getState:k})},[e=>i=e.PrivateStateAccessor,e=>(t=e.createElement,a=e.Component),e=>r=e.connect,e=>d=e.Mutation,e=>l=e.default]]},["aunxON","cDcdfi","h74DsO","MGkW-Q","4LU1Ax"]]);
