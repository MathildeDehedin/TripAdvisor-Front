(this.$WP=this.$WP||[]).push(["jydV9t",(e,t)=>{"use strict";var o,i,n,s,l,r,a,c,u,d,h,p,m,g,v,C,b,k,f,w,_,S,y,N=e=>o("div",{className:"_1ApFK-dh",onClick:e.onClick}),O=({icon:e,className:t,onClick:i,invert:n})=>o("span",{className:d("_2k0P2zB4",t,{_1mJeQjoG:n,"_2qVG-DqO":C("cx_brand_refresh_degreen")}),onClick:i},o(v,{name:e})),I=({actions:e,onClick:t,onChange:i,bottom:n,right:s})=>o(y,{bottom:n,right:s},n=>o(S,{actions:e,onClick:t,onChange:i,className:"j83Njj6I",style:n})),P={Photo:40467,Review:40468},E=e=>{var t=P[e];switch(e){case"Feedback":var o=`mailto:userfeedback-svc@tripadvisor.com?subject=${k("mobile_feedback_subject")}&body=${k("mobile_feedback_body_info")}`;return{label:k("mobile_feedback_title"),icon:"email",url:o,pid:t};case"Review":throw new Error("Default review option is no longer supported.");case"Photo":throw new Error("Default photo option is no longer supported.");case"Video":throw new Error("Default video option is no longer supported.");case"LinkPost":throw new Error("Default link post option is no longer supported.");case"Trip":return{label:k("ugc_uploader_trip_v2"),icon:"my-trips",pid:t,url:"/Profile"};default:throw new Error(e+" is not a valid ActionType")}};return[()=>{N.defaultProps={onClick:void 0},O.defaultProps={className:void 0,onClick:void 0,invert:!1},_={enter:"_3CH5faPy",enterActive:"_2MSVGI4m",exit:"_3sDnWAbb",exitActive:"_2iq-hDA0"},(f=class extends i{constructor(...e){super(...e),this.state={show:!1},this.onClick=e=>{this.props.onClick&&this.props.onClick(e),this.toggle()},this.toggle=e=>{this.setState(t=>({show:null!=e?e:!t.show}),()=>{this.props.onChange&&this.props.onChange(this.state.show)})}}render(){var{className:e,style:t,showGlobalOverlay:i,page:s,isMember:l}=this.props,c=this.props.actions.slice(0,10),{show:v}=this.state,C=300+30*c.length+50;return c.length>0&&o(n,null,c.map(e=>e.overlay?o(n,{key:e.name},e.overlay()):null),this.state.show&&o(n,null,o(N,{onClick:()=>{this.toggle(!1)}}),o(g,{iOS11BugFix:!1})),o(p,null,p=>o("div",{className:d("_3JBH0bgB",e),style:t},o(m,null,e=>o(O,{invert:v,className:d("_3WuhHZZu",{_3IKMn4UT:v}),icon:"plus",onClick:t=>{e(t,"postContentCtaClick",{action:"NO_SELECTION",entrypoint:"FAB",isMemberSignedIn:l}),h({module:"postContentCtaClick",action:"NO_SELECTION",context:"FAB|"+s,isMemberSignedIn:l}),this.onClick(t)}})),o(r,{component:null},v&&c.map(e=>{var{label:t,icon:r,onClick:c}=e,d=function(e,t){if(null==e)return{};var o,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)o=s[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,["label","icon","onClick"]);return o(a,{classNames:_,timeout:C,unmountOnExit:!0,key:t},o(d.url?u:"span",{className:"_3kX-9_QG",onClick:c,href:d.url},o(m,null,e=>o(n,null,o(O,{icon:r,onClick:t=>{void 0!==d.trackingName&&(e(t,"postContentCtaClick",{action:d.trackingName,entrypoint:"FAB",isMemberSignedIn:l}),h({module:"postContentCtaClick",action:d.trackingName,context:"FAB|"+s,isMemberSignedIn:l})),d.url&&t.preventDefault(),p(d.loginPid).then(()=>{var e;globalThis.require(["trjs!ta/util/Cookie"],e=>{e.setPIDCookie(d.pid)}),d.name&&i(d.name),c&&c(t),d.url&&(null==(e=window)?void 0:e.location)&&(window.location.href=d.url)}),this.toggle(!1)}}),t))))})))))}}).defaultProps={actions:[],onClick:void 0,onChange:void 0,className:void 0,style:void 0},S=l(e=>({page:e.route.page,isMember:e.auth.isMember}),{showGlobalOverlay:c.overlays.showGlobalOverlay})(f),w=class extends s{constructor(...e){super(...e),this.state={bottomOffset:0},this.reposition=()=>{if(document&&document.documentElement&&window&&window.innerHeight>window.innerWidth){var e=document.documentElement.clientHeight-(s=null==(o=document)||null==(i=o.documentElement)?void 0:i.clientWidth,l=null==(n=window)?void 0:n.innerWidth,((s&&l?s/l:1)||1)*window.innerHeight),t=e>0?e:0;this.setState({bottomOffset:t})}var o,i,n,s,l}}render(){var{bottom:e,right:t,isRTL:i}=this.props,s={bottom:e+this.state.bottomOffset,[i?"left":"right"]:t};return o(n,null,this.props.children(s),this.props.isIOSSafari&&o(b,{callback:this.reposition,throttle:500}))}},y=l(e=>({isIOSSafari:"IOS"===e.meta.device.os.family&&"SAFARI"===e.meta.device.browser.family&&!e.meta.isNativeWebview,isRTL:e.i18n.isRtl}))(w),I.defaultProps={actions:[],onClick:void 0,onChange:void 0,bottom:12,right:8},e({LoginPID:P,SocialFab:I,ugcActionMapper:E})},[e=>(o=e.createElement,i=e.Component,n=e.Fragment,s=e.PureComponent),e=>l=e.connect,e=>(r=e.TransitionGroup,a=e.CSSTransition),e=>c=e.actions,e=>u=e.Link,e=>d=e.default,e=>h=e.default,e=>p=e.SocialLoginGate,e=>m=e.InteractionLogger,e=>g=e.BlockScroll,e=>v=e.Icon,e=>C=e.featureIsEnabled,e=>b=e.default,e=>k=e.localize]]},["cDcdfi","h74DsO","CSOnVf","aunxON","N4pTU2","jSLlaY","Jk5sjx","JFHNGL","pZzSdK","xegF5W","_qQcW3","-i3PJS","w4JHTr","535agn"]]);
