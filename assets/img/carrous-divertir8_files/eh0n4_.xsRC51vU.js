(this.$WP=this.$WP||[]).push(["eh0n4_",(e,l)=>{"use strict";var t,a,u,d,n,r,i,s,o,m=(e,l,t)=>{var a,u=`${t}${e}`,d=!1;return u+=(a=l.mediaId)?`/${a.id}:${a.type||"u"}`:"",(l.albumId||l.typeId||l.categoryId)&&(u+="/?",d=!0),d&&((l.albumId||0===l.albumId)&&(u+=`albumid=${l.albumId}&`),(l.typeId||0===l.typeId)&&(u+=`type=${l.typeId}&`),(l.categoryId||0===l.categoryId)&&(u+=`category=${l.categoryId}&`),"&"===u.substring(u.length-1)&&(u=u.substring(0,u.length-1))),u},I=(e,l)=>{var t=e.split("/");t.splice(0,2);var a,u,d,n,r,i=null,o=null,m="u";switch(t.length){case 0:break;case 1:[i]=t;break;case 2:t[1].indexOf("=")>0?[i,r]=t:[i,o]=t;break;case 3:[i,o,r]=t;break;default:[i,o,r]=t}if(null!=r){var I=new URLSearchParams(r);I.has("albumid")&&(u=I.get("albumid")),I.has("type")&&(d=I.get("type")),I.has("category")&&(n=I.get("category"))}if(null!=o){var c=o.split(":");a=Number(c.shift()),m=c.shift()}return{locationId:Number(i),state:{mediaId:null!=a?{id:a,type:s(m)}:null,albumId:Number(u),typeId:Number(d),categoryId:Number(n),sort:l}}},c=(e,l,s,c)=>{var[{fragment:v},{navigateToFragment:g}]=t(i),y=e||0,b=a(l),p=a(v),f=null!=s&&""!==s?`/media-${s}/`:"/media/",{sort:h}=l||{},$=u(()=>v&&v.startsWith(f)?I(v,h):null,[v,f,h]),[N,R]=d(null==$?void 0:$.state);return n(()=>{N&&!$?R(null):!N&&$&&R($.state)},[$,N]),n(()=>{var e,t,a,u,d,n,r,i,s=(e=b.current,t=l,!(null==e&&null==t||(null!=e||null==t)&&(null==e||null!=t)&&(null==e?void 0:e.albumId)===(null==t?void 0:t.albumId)&&(null==e?void 0:e.typeId)===(null==t?void 0:t.typeId)&&(null==e?void 0:e.categoryId)===(null==t?void 0:t.categoryId)&&(null==e||null==(a=e.mediaId)?void 0:a.id)===(null==t||null==(u=t.mediaId)?void 0:u.id)&&(null==e||null==(d=e.mediaId)?void 0:d.id)===(null==t||null==(n=t.mediaId)?void 0:n.id)&&(null==e||null==(r=e.mediaId)?void 0:r.type)===(null==t||null==(i=t.mediaId)?void 0:i.type)&&(null==e?void 0:e.sort)===(null==t?void 0:t.sort))),I=p.current!==v;if(I&&!s)v&&!v.startsWith(f)?c({type:o.close}):$&&c({type:o.routeNavigate,newState:$.state});else if(!I&&s){var h=l?m(y,l,f):"";if(h!==v){var N=((e,l)=>null===e&&null!==l||!(null==e?void 0:e.mediaId)&&(null==l?void 0:l.mediaId)?"FRAGMENT_PUSH":"IN_PLACE")(b.current,l);g(h,N)}}b.current=l,p.current=v},[l,v,f,$,g,y,c]),{clearFragment:r(()=>{v&&g("","IN_PLACE")},[v,g]),initialRouteState:N}};return[()=>{e("default",c),e({defaultFragmentPrefix:"/media/",generateFragmentRoute:m,getStateFromFragment:I,useRouteHandler:c})},[e=>(t=e.useContext,a=e.useRef,u=e.useMemo,d=e.useState,n=e.useEffect,r=e.useCallback),e=>i=e.Route,e=>(s=e.validateMediaType,o=e.actions)]]},["cDcdfi","2R4xv2","wc54S1"]]);
