(this.$WP=this.$WP||[]).push(["u8t1D4",(e,t)=>{"use strict";var o,i,s,a,c,n,r,l,d,u,b,p,m,g,h,j,v,f,_,O,I,N,k,S,C,y,R,L,w,P,V,W,A,E,B,x=(e,t)=>e&&t&&e.socialReferences&&e.socialReferences.userReferences&&e.socialReferences.userReferences.find(e=>e.userId===t),F=({video:e,actor:t,deleteObject:s,untagObject:a,onClose:c,loggedInUserId:n,socialStatisticsBar:r,socialActionBar:l})=>{var u=e.object.orderedLocations,b=t&&!t.isMe?{FOLLOW:!0,UNTAG:!!x(e.object,n)}:{FOLLOW:!1,UNTAG:!!x(e.object,n)},m=e.object.publishedDate||e.object.uploadDate;return o(i,null,o("div",{className:"ui_column is-4 is-3-widescreen is-12-mobile LkoxHJFF"},o("div",{className:"g8JMC7es _1WrSbD6V"},o("div",{className:"_1qP4kB7-"},o(p,null,c=>o(i,null,o("div",{className:"_2MGcN7Wa"},o(d,{to:{page:"Profile",username:t.username},className:"_1ARSeaXP",onClick:e=>c(e,"userClick",{userId:t.userId})},o(w,{photo:t.avatar,display:"inline",withBorder:!0,onClick:e=>c(e,"userClick",{userId:t.userId})})),o("span",{className:"Cio4kHI9"},o(d,{to:{page:"Profile",username:t.username},className:S("_1UqG759S",{verified:t.isVerified}),onClick:e=>c(e,"userClick",{userId:t.userId})},t.displayName),o("span",{className:"_26PmS9e9"},o(L,{dateStr:m})))),o("div",{className:"_1DWp2KKZ"},o(P,{sectionObject:e.object,sectionActor:t,deleteObject:s,untagObject:a,overrideItems:b}))))),e.object.caption&&o("div",{className:"_1o-_QY4x"},o(g,{text:e.object.caption,socialReferences:e.object.socialReferences})),r,l),u&&u[0]&&o(R,{pois:u,showSavesIcon:!0})),o(i,null,o("div",{className:S("_1oEdm0D3",{_1mJWycOi:k("cx_brand_refresh_degreen")}),onClick:e=>{c&&c(e)}}),o(C,{keyName:"Escape",callback:()=>{c&&c()}}),o(y,null)))},U=e=>{var{statuses:t}=null==e?void 0:e.object;return!(!t||0===t.length||t.includes("UPLOADING"))},D=e=>{var{member:t,actor:i,video:s,isSingleObject:a,isEmbedded:c,viewportCategory:d,isOpen:u,navigate:b,route:f,actorForUrl:_,clusterId:O,maxVideoHeight:I,sponsorship:N,socialStatisticsBar:k,socialActionBar:S}=e,{object:C}=s,y=U(s)?void 0:o(v.Content,{key:"topNote"},o("div",{className:"_3Vn6fw2-"},n("upload_video_processing_copy"))),R=o(h,{objectEventType:"onVideo",object:s.object,member:t,actor:i,deleteObject:e.deleteObject,untagObject:e.untagObject,loggedInUserId:e.loggedInUserId,isEmbedded:c}),L=u?void 0:(e,t)=>{e&&(j.set("VideoFullscreenFromFeedDate",Date.now()),b(Object.assign({},f,{modal:"Video_"+s.object.id,username:_&&_.username||s.object.userProfile.username})),t())},w=l(f),P=[o(v.Content,{fullWidth:!0,key:"video"},o(E,{actor:i,video:s,isOpen:u,deleteObject:e.deleteObject,untagObject:e.untagObject,onClick:L,trackingModule:w,onClose:()=>b(f,{reset:!0}),maxVideoHeight:I,socialStatisticsBar:k,socialActionBar:S})),o(v.Content,{key:"caption"},C.caption&&o("div",{className:"_15H6XJ5m"},o(p,null,e=>o("div",{className:"_1tM7-v6q",onClick:t=>e(t,"feedClick")},"MOBILE"===d&&C.caption.length>160?o(r,{numLinesToShow:3,cta:o("div",{className:"_1jCTad19"},o("span",{className:"_3G9wWNr_"},n("common_Read_more")),o(m,{name:"caret-down"})),ctaNewline:!0},o(g,{text:C.caption,socialReferences:C.socialReferences,useSpan:!0,onLinkReferenceClick:(t,o)=>{e(t,"linkReferenceClick",{authorUserId:i.userId,url:o})}})):o(g,{text:C.caption,socialReferences:C.socialReferences,useSpan:!0,onLinkReferenceClick:(t,o)=>{e(t,"linkReferenceClick",{authorUserId:i.userId,url:o})}})))))];return o(v,{isSingleObject:a,topNote:y,header:R,content:P,socialStatisticsBar:k,socialActionBar:S,pois:s.object.orderedLocations,clusterId:O,sponsorship:N})},M=e=>o(u,null,t=>{var{route:{modal:i},navigate:s}=t,a=function(e,t){if(null==e)return{};var o,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)o=a[i],t.indexOf(o)>=0||(s[o]=e[o]);return s}(t.route,["modal"]);return e.video.object&&o(D,Object.assign({key:"vs_"+e.video.object.id,navigate:s,route:a,isOpen:!e.isEmbedded&&i&&i==="Video_"+e.video.object.id},e))});return[()=>{F.defaultProps={onClose:void 0,loggedInUserId:"",untagObject:null},[W,A]=I.onTrigger(()=>t("5W0bHx"),"VideoPlayer",o(N,null)),e("VideoPlayerAndSidebar$1",V=class extends s{constructor(e){super(e),this.computeStyles=()=>{if(this.contentNode&&this.contentNode.current){var e=this.contentNode.current.getBoundingClientRect().width;this.setState({containerWidth:e})}},this.contentNode=void 0,this.state={containerWidth:null,realAspectRatio:null,videoFullscreen:!1},this.contentNode=a()}componentDidMount(){this.computeStyles()}render(){var{actor:e,video:t,isOpen:s,deleteObject:a,untagObject:c,loggedInUserId:r,onClick:l,trackingModule:d,onClose:g,maxVideoHeight:h,preload:j,autoplayWhenVisible:v,usePoster:I,socialStatisticsBar:N,socialActionBar:k,branding:S}=this.props,{realAspectRatio:C,videoFullscreen:y}=this.state,{object:R}=t;if(!R||!e.isMe&&!R.statuses.includes("PUBLISHED")&&!R.statuses.includes("PENDING"))return null;var L=C||R.sources&&R.sources.length>0&&R.sources[0].aspectRatio,w=L&&this.state.containerWidth?Math.min(h||450,Math.ceil(this.state.containerWidth/L))+"px":"350px",P=U(t),V=t.object.sources.findIndex(e=>e.url.toLowerCase().indexOf("mp4")>-1);V=V>-1?V:t.object.sources.length-1;var E=y?{opacity:1}:{};return o(i,null,o(f,{callback:this.computeStyles}),o(_,{rootMargin:400,onVisible:W},i=>o("div",{key:"vw_"+R.id,className:"_2CwUWldf "+(s?"_1bVAgffH":"_2Ox-qunU"),ref:e=>{this.contentNode.current=e,"object"==typeof i&&i&&(i.current=e)}},o("div",{className:"_2IAXjMlk "+(s?"ui_columns":""),style:E},s&&o("div",{className:"_16pV-6hH ui_column is-4 is-offset-8 is-3-widescreen is-offset-9-widescreen is-12-mobile"},o(O,{branding:S})),o("div",{className:s?"_2CwUWldf ui_column is-8 is-9-widescreen is-12-mobile":""},o(u,null,e=>e.route&&e.route.modal==="Video_"+t.object.id?o(b,{openGraphInfo:{type:"video.other",title:null!=t.object.userProfile&&null!=t.object.userProfile.displayName?n("social_opengraph_video_title",{username:t.object.userProfile.displayName}):"",description:null!=t.object.caption?""+t.object.caption:"",url:t.object.route.url,image:{url:null!=t.object.posterSizes[0]?""+t.object.posterSizes[0].url:"",width:null!=t.object.posterSizes[0]?t.object.posterSizes[0].width:0,height:null!=t.object.posterSizes[0]?t.object.posterSizes[0].height:0},video:{url:""+t.object.sources[V].url,width:t.object.sources[V].width,height:t.object.sources[V].height}}}):null),P&&o(p,null,e=>o("div",{style:{height:s?"100%":w}},o(A,{key:"player_"+R.id,source:t.object.sources[0].url,width:"100%",height:s?"100%":w,preload:j,trackingModule:d,mediaId:t.object.id,fullscreenOnLandscape:!0,autoplayWhenVisible:v,poster:I?t.object.posterSizes[0].url:void 0,onFullscreenChange:e=>{this.setState({videoFullscreen:e})},onLoaded:(e,t)=>{this.setState({realAspectRatio:e/t})},onClick:l,onClickTracking:t=>e(t,"feedClick")}))),!P&&o("div",{className:"_1pWIvZ7c",style:{height:s?"100%":w}},o(m,{name:"video-fill",className:"_1DDsMGr8"}))),s&&o(F,{video:t,actor:e,deleteObject:a,untagObject:c,loggedInUserId:r,onClose:g,socialStatisticsBar:N,socialActionBar:k})))))}}),V.defaultProps={maxVideoHeight:450,preload:"auto",autoplayWhenVisible:!0,usePoster:!1,branding:k("cx_brand_refresh_degreen")?"TA_GRAY":"TA_GREEN"},E=c(e=>({loggedInUserId:e.auth.loggedInUserId}))(V),M.defaultProps={isSingleObject:!1,isEmbedded:!1,member:null,actor:null,actorForUrl:void 0,deleteObject:null,untagObject:null,clusterId:void 0,maxVideoHeight:450},B=c(e=>({viewportCategory:e.meta.device.viewportCategory}))(M),e("default",B),e({FULLSCREEN_FROM_FEED_DATE_LOCAL_STORAGE_KEY:"VideoFullscreenFromFeedDate",VideoPlayerAndSidebar:E,VideoSidebar:F})},[e=>(o=e.createElement,i=e.Fragment,s=e.Component,a=e.createRef),e=>c=e.connect,e=>n=e.localize,e=>r=e.ReadMore,e=>l=e.getVideoTrackingModule,e=>(d=e.Link,u=e.RouteConsumer,b=e.HeadProperties),e=>p=e.InteractionLogger,e=>m=e.Icon,e=>g=e.Linkify,e=>h=e.MemberEventOnObjectBlock,e=>j=e.default,e=>v=e.CardSection,e=>f=e.default,e=>_=e.HasBeenVisible,e=>O=e.BrandedHeader,e=>I=e.component,e=>N=e.VideoPlayerLoadingSkeleton,e=>k=e.featureIsEnabled,e=>S=e.default,e=>C=e.default,e=>y=e.BlockScroll,e=>R=e.POIObjectList,e=>L=e.ContentDisplayDate,e=>w=e.Avatar,e=>P=e.SectionOverflowMenu]]},["cDcdfi","h74DsO","535agn","miRpRf","oN8Ht7","N4pTU2","pZzSdK","_qQcW3","wn3KpT","WWE3W5","qKFflQ","5dJy8s","_g8cls","BLrxBS","6nM-E7","pLbCP4","7LISht","-i3PJS","jSLlaY","8xs-IB","xegF5W","Kzjbzq","OiNFvE","Hgrhyo","ce1YGz"]]);
