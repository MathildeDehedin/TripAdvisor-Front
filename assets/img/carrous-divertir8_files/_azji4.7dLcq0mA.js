(this.$WP=this.$WP||[]).push(["_azji4",(e,a)=>{"use strict";var t,r,i,n,d,l,o,s,u,c,m,g,I,b,p,y,O,v=({businessContact:e,mobileOffer:a,desktopOffer:r,adSlot:i,albumId:n,categoryId:d,typeId:l,mediaId:o,referenceMediaId:s,locationId:u,locationName:c,actionHandler:m,enablePopupFooter:I,hideMASQuickAlbums:y,disableControls:O,getShareUrlForMedia:v,galleryRenderer:S,fullscreenRenderer:f,sort:k,customMobileButtonMenus:C,quickAlbumsConfiguration:A,queryClientOverride:R,heroDataStrategyOverride:h,pageDataStrategyOverride:M})=>t(g,{mobileRenderer:()=>t(p,{businessContact:e,offer:a,actionHandler:m,categoryId:d,albumId:n,typeId:l,mediaId:o,referenceMediaId:s,locationId:u,getShareUrlForMedia:v,scrollHideCommerce:I,skipQuickAlbums:y,disableControls:O,customButtonMenus:C,galleryRendererOverride:S,fullscreenRendererOverride:f,sort:k,quickAlbumsConfiguration:A,queryClientOverride:R,heroDataStrategyOverride:h,pageDataStrategyOverride:M}),desktopRenderer:()=>t(b,{businessContact:e,offer:r,adSlot:i,actionHandler:m,categoryId:d,albumId:n,typeId:l,mediaId:o,referenceMediaId:s,locationId:u,locationName:c,getShareUrlForMedia:v,skipQuickAlbums:y,disableControls:O,galleryRendererOverride:S,fullscreenRendererOverride:f,sort:k,quickAlbumsConfiguration:A,queryClientOverride:R,heroDataStrategyOverride:h,pageDataStrategyOverride:M})}),S=e=>{var a=(null==e?void 0:e.albumId)||c;return o({albumId:a,mediaId:null==e?void 0:e.mediaId,categoryId:a})},f=!1,k=!1,C=({locationId:e,initialSettings:a,hideHeaderControls:o,hideMASQuickAlbums:c,mobilePortraitFooterSlot:g,enablePopupAnimationMobilePortraitFooter:I,mobileLandscapeHeaderSlot:b,desktopHeaderRightSlot:p,businessContact:C,leftRailSlot:A,onClose:R,actionHandler:h,getShareUrlForMedia:M,galleryRenderer:N,fullscreenRenderer:E,customMobileButtonMenus:L,routeFragmentIdentifier:D,queryClientOverride:T,heroDataStrategyOverride:_,pageDataStrategyOverride:F,quickAlbumsConfiguration:U})=>{var[q,H]=r({isOpen:!1,shouldToggle:!1}),j=i((e,a)=>{try{h&&"INITIAL_ALBUM_UPDATE"!==a.type&&h(a)}catch(e){a.type}switch(a.type){case"ROUTE_NAVIGATE":return Object.assign({},a.newState,{sort:e.sort});case"ALBUM":return Object.assign({},e,{albumId:a.albumId,typeId:s(),categoryId:a.categoryId?a.categoryId:a.albumId,mediaId:null});case"FULLSCREEN_NAV":case"GALLERY_CLICK":return a.newMedia.media?Object.assign({},e,{mediaId:{id:a.newMedia.media.mediaId,type:a.newMedia.media.type}}):e;case"FULLSCREEN_CLOSE":return Object.assign({},e,{mediaId:null});case"CATEGORY_CHANGE":return Object.assign({},e,{categoryId:a.categoryId});case"SOURCE_CHANGE":return Object.assign({},e,{typeId:a.typeId});case"INVALIDATE_REFERENCE_MEDIA":return Object.assign({},e,{mediaId:null});case"SORT":return Object.assign({},e,{sort:a.sort});case"CLOSE":return H(e=>e.isOpen?{isOpen:!0,shouldToggle:!0}:e),e;case"ERROR":return O;default:return e}},[h]),[P,w]=n(j,S(a)),V=null!=D,{clearFragment:B,initialRouteState:Q}=m(e,V&&q.isOpen?P:null,D,w);d(()=>{a&&!q.isOpen&&(w({type:u.routeNavigate,newState:S(a)}),H({isOpen:!1,shouldToggle:!0}))},[a,H,q]),d(()=>{!V||!Q||a||q.isOpen||k||f||(w({type:u.routeNavigate,newState:Q}),H({isOpen:!1,shouldToggle:!0}))},[V,Q,a,q,H]),d(()=>{q.shouldToggle&&(q.isOpen&&f?(H({isOpen:!1,shouldToggle:!1}),f=!1):q.isOpen||f||(f=!0,k=!0,H({isOpen:!0,shouldToggle:!1})))},[q,H]),d(()=>{q.isOpen&&q.shouldToggle&&(V&&B(),R&&R())},[q,V,B,R]);var G=e=>e&&b?b():!e&&g?g():null;if(!q.isOpen)return null;var z=(null==a?void 0:a.albumId)||(null==Q?void 0:Q.albumId),W=(null==a?void 0:a.mediaId)||(null==Q?void 0:Q.mediaId);return t(l,{query:y,variables:{locationId:e}},({data:a})=>{var r,i,n=null==a||null==(r=a.locations)||null==(i=r[0])?void 0:i.name;return t(v,{enablePopupFooter:I,businessContact:C,mobileOffer:(b||g)&&G,desktopOffer:p,adSlot:A,albumId:P.albumId,categoryId:P.categoryId,typeId:P.typeId,mediaId:P.mediaId,referenceMediaId:P.albumId===z?W:null,locationId:e,locationName:n,actionHandler:w,hideMASQuickAlbums:c,disableControls:o,getShareUrlForMedia:M,galleryRenderer:N,fullscreenRenderer:E,sort:P.sort,customMobileButtonMenus:L,quickAlbumsConfiguration:U,queryClientOverride:T,heroDataStrategyOverride:_,pageDataStrategyOverride:F})})};return[()=>{b=I.onUsage(()=>a("_azji4/35NN-R"),"default"),p=I.onUsage(()=>a("_azji4/Xncs_3"),"default"),(y=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"MVLocationQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"locations"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationIds"},"value":{"kind":"ListValue","values":[{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}]}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"name"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"mediaCount"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":123}}')).__key=0x5d0024840f3b,y.loc.source={body:"5d0024840f3b"},O=S(),e("default",C)},[e=>(t=e.createElement,r=e.useState,i=e.useCallback,n=e.useReducer,d=e.useEffect),e=>l=e.Query,e=>(o=e.buildDefaultState,s=e.getCurrentAllMediaGroupTypeId,u=e.actions,c=e.ALL_ALBUM),e=>m=e.useRouteHandler,e=>g=e.default,e=>I=e.component]]},["cDcdfi","5X2em-","wc54S1","eh0n4_","RZRW7o","pLbCP4"]]);
